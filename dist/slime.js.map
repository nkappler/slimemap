{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/long/src/long.js","webpack:///./src/slimeMap.ts","webpack:///./src/marker.ts","webpack:///./node_modules/ctxmenu/index.js","webpack:///./src/slimeChunk.ts","webpack:///./src/seededRandom.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Long","wasm","WebAssembly","Instance","Module","Uint8Array","e","low","high","unsigned","this","isLong","obj","__isLong__","INT_CACHE","UINT_CACHE","fromInt","cachedObj","cache","fromBits","fromNumber","isNaN","UZERO","ZERO","TWO_PWR_64_DBL","MAX_UNSIGNED_VALUE","TWO_PWR_63_DBL","MIN_VALUE","MAX_VALUE","neg","TWO_PWR_32_DBL","lowBits","highBits","pow_dbl","Math","pow","fromString","str","radix","length","Error","RangeError","indexOf","substring","radixToPower","result","size","min","parseInt","power","mul","add","fromValue","val","TWO_PWR_16_DBL","TWO_PWR_24","ONE","UONE","NEG_ONE","LongPrototype","toInt","toNumber","toString","isZero","isNegative","eq","radixLong","div","rem1","sub","rem","remDiv","digits","getHighBits","getHighBitsUnsigned","getLowBits","getLowBitsUnsigned","getNumBitsAbs","bit","eqz","isPositive","isOdd","isEven","equals","other","notEquals","neq","ne","lessThan","comp","lt","lessThanOrEqual","lte","le","greaterThan","gt","greaterThanOrEqual","gte","ge","compare","thisNeg","otherNeg","negate","not","addend","a48","a32","a16","a00","b48","b32","b16","c48","c32","c16","c00","subtract","subtrahend","multiply","multiplier","get_high","b00","divide","divisor","approx","res","div_u","div_s","toUnsigned","shru","shr","shl","max","floor","log2","ceil","log","LN2","delta","approxRes","approxRem","modulo","rem_u","rem_s","mod","and","or","xor","shiftLeft","numBits","shiftRight","shiftRightUnsigned","shr_u","toSigned","toBytes","toBytesLE","toBytesBE","hi","lo","fromBytes","bytes","fromBytesLE","fromBytesBE","long_1","__importStar","marker_1","slimeChunk_1","getV2sfromAABB","aabb","p1","x","x1","z","z1","p2","x2","z2","getAABBfromV2s","origin","SlimeMap","id","config","_this","height","width","xPos","zPos","mousePos","__assign","zoom","minzoom","maxzoom","borderleft","bordertop","borderbottom","borderright","markers","controls","undefined","lastTouchPoint","strokeColor","textColor","mapBackgroundColor","uiBackgroundColor","slimeChunkColor","markerDefaultColor","allowMarkers","canvas","createDOM","container","parentElement","attachContextMenu","setAttribute","ctx","getContext","CanvasRenderingContext2D","addScrollHandler","seed","default","Date","now","SCH","SlimeChunkHandler","updateSizes","redraw","onmousemove","event","offsetX","offsetY","buttons","movementX","movementY","drawFooter","onmousedown","_event","getMapCoord","onmouseup","ontouchstart","touches","clientX","clientY","ontouchmove","movement","isOverMap","doMath","preventDefault","window","addEventListener","setSeed","gotoCoordinate","param1","y","coordinate","isVector2D","loadFont","link","document","createElement","rel","type","href","head","appendChild","setInterval","drawStaticUI","drawUI","setTimeout","clearInterval","parent","getElementById","tagName","attributes","attr","style","parentNode","body","replaceChild","position","renderControls","bottom","controlsdDiv","assign","display","justifyContent","top","paddingRight","paddingLeft","boxSizing","lineHeight","seedDiv","seedInput","placeholder","seedButton","innerText","navDiv","xInput","zInput","navButton","Number","jumpMarker","deleteMarker","location","label","addMarker","offsetHeight","mousewheelevt","test","navigator","userAgent","evt","onscroll","attachEvent","getScrollDirection","detail","deltaY","wheelDelta","pos","zoomfactor","direction","newPos","offset","calcChunkVP","v2s","vp","bounding","getBoundingClientRect","calcViewport","chunkvp","vec","clearfooter","font","fillStyle","fillText","toFixed","Chunk","Slimes","isSlimeChunk","From","ChunkToCoord","To","textAlign","fillRect","updateSlimeVP","drawSlimeChunks","drawGrid","drawAllMarkers","clearBorderRight","JSON","stringify","vec2","getAbsCoord","factor","mark","lineWidth","beginPath","strokeStyle","moveTo","lineTo","stroke","closePath","fill","mapwidthcenter","mapheightcenter","round","isInVP","ignoreBorder","v","mapWidth","mapHeight","arg","f","isAABB","keys","target","_varArgs","TypeError","to","index","arguments","nextSource","nextKey","writable","configurable","ctxmenu_1","marker","sm","push","deleteAllMarkers","arg0","splice","includes","findClosestMarker","searchPos","maxRadius","Infinity","closestMarker","closestDistance","forEach","distance","sqrt","showEditMarkerDialog","onSubmit","popup","gridTemplateColumns","padding","className","labelInput","labelLabel","colorInput","colorLabel","color","xposInput","xPosLabel","zposInput","zPosLabel","cancelBtn","submitBtn","getBounding","margin","zIndex","background","boxShadow","left","onclick","removeChild","elem","cloneNode","visibility","ctxmenu","attach","cxm","coord","getLabelDesc","concat","text","action","updatedMarker","isDivider","disabled","subMenu","map","_i","_a","bezierCurveTo","arcTo","textWidth","measureText","ContextMenu","instance","Constructor","_classCallCheck","dir","closeMenu","addStylesToDom","getInstance","ctxMenu","_this2","beforeRender","querySelector","handler","stopImmediatePropagation","newMenu","menu","generateDOM","console","error","update","removeEventListener","delete","debounce","timeout","clearTimeout","parentOrEvent","_this3","item","li","itemIsDivider","innerHTML","title","tooltip","itemIsInteractive","itemIsSubMenu","itemIsAction","itemIsAnchor","ev","openSubMenu","fontWeight","marginLeft","rect","Element","parentRect","getPosition","stopPropagation","listElement","innerWidth","innerHeight","append","styles","insertBefore","childNodes","readyState","__importDefault","seededRandom_1","base","addend1","addend2","addend3","mask","chunk","updateSeed","tempseed","NSeededRandom","nextInt","nmultiplier","naddend","nmask","initseed","initialScramble","next","bits","b","bound","abs"],"mappings":"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","file":"slime.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = Long;\r\n\r\n/**\r\n * wasm optimizations, to do native i64 multiplication and divide\r\n */\r\nvar wasm = null;\r\n\r\ntry {\r\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\r\n    0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11\r\n  ])), {}).exports;\r\n} catch (e) {\r\n  // no wasm support :(\r\n}\r\n\r\n/**\r\n * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\r\n *  See the from* functions below for more convenient ways of constructing Longs.\r\n * @exports Long\r\n * @class A Long class for representing a 64 bit two's-complement integer value.\r\n * @param {number} low The low (signed) 32 bits of the long\r\n * @param {number} high The high (signed) 32 bits of the long\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @constructor\r\n */\r\nfunction Long(low, high, unsigned) {\r\n\r\n    /**\r\n     * The low 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.low = low | 0;\r\n\r\n    /**\r\n     * The high 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.high = high | 0;\r\n\r\n    /**\r\n     * Whether unsigned or not.\r\n     * @type {boolean}\r\n     */\r\n    this.unsigned = !!unsigned;\r\n}\r\n\r\n// The internal representation of a long is the two given signed, 32-bit values.\r\n// We use 32-bit pieces because these are the size of integers on which\r\n// Javascript performs bit-operations.  For operations like addition and\r\n// multiplication, we split each number into 16 bit pieces, which can easily be\r\n// multiplied within Javascript's floating-point representation without overflow\r\n// or change in sign.\r\n//\r\n// In the algorithms below, we frequently reduce the negative case to the\r\n// positive case by negating the input(s) and then post-processing the result.\r\n// Note that we must ALWAYS check specially whether those values are MIN_VALUE\r\n// (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\r\n// a positive number, it overflows back into a negative).  Not handling this\r\n// case would often result in infinite recursion.\r\n//\r\n// Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\r\n// methods on which they depend.\r\n\r\n/**\r\n * An indicator used to reliably determine if an object is a Long or not.\r\n * @type {boolean}\r\n * @const\r\n * @private\r\n */\r\nLong.prototype.__isLong__;\r\n\r\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\r\n\r\n/**\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n * @inner\r\n */\r\nfunction isLong(obj) {\r\n    return (obj && obj[\"__isLong__\"]) === true;\r\n}\r\n\r\n/**\r\n * Tests if the specified object is a Long.\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n */\r\nLong.isLong = isLong;\r\n\r\n/**\r\n * A cache of the Long representations of small integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar INT_CACHE = {};\r\n\r\n/**\r\n * A cache of the Long representations of small unsigned integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar UINT_CACHE = {};\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromInt(value, unsigned) {\r\n    var obj, cachedObj, cache;\r\n    if (unsigned) {\r\n        value >>>= 0;\r\n        if (cache = (0 <= value && value < 256)) {\r\n            cachedObj = UINT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n        if (cache)\r\n            UINT_CACHE[value] = obj;\r\n        return obj;\r\n    } else {\r\n        value |= 0;\r\n        if (cache = (-128 <= value && value < 128)) {\r\n            cachedObj = INT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, value < 0 ? -1 : 0, false);\r\n        if (cache)\r\n            INT_CACHE[value] = obj;\r\n        return obj;\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given 32 bit integer value.\r\n * @function\r\n * @param {number} value The 32 bit integer in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromInt = fromInt;\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromNumber(value, unsigned) {\r\n    if (isNaN(value))\r\n        return unsigned ? UZERO : ZERO;\r\n    if (unsigned) {\r\n        if (value < 0)\r\n            return UZERO;\r\n        if (value >= TWO_PWR_64_DBL)\r\n            return MAX_UNSIGNED_VALUE;\r\n    } else {\r\n        if (value <= -TWO_PWR_63_DBL)\r\n            return MIN_VALUE;\r\n        if (value + 1 >= TWO_PWR_63_DBL)\r\n            return MAX_VALUE;\r\n    }\r\n    if (value < 0)\r\n        return fromNumber(-value, unsigned).neg();\r\n    return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n * @function\r\n * @param {number} value The number in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromNumber = fromNumber;\r\n\r\n/**\r\n * @param {number} lowBits\r\n * @param {number} highBits\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromBits(lowBits, highBits, unsigned) {\r\n    return new Long(lowBits, highBits, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\r\n *  assumed to use 32 bits.\r\n * @function\r\n * @param {number} lowBits The low 32 bits\r\n * @param {number} highBits The high 32 bits\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromBits = fromBits;\r\n\r\n/**\r\n * @function\r\n * @param {number} base\r\n * @param {number} exponent\r\n * @returns {number}\r\n * @inner\r\n */\r\nvar pow_dbl = Math.pow; // Used 4 times (4*8 to 15+4)\r\n\r\n/**\r\n * @param {string} str\r\n * @param {(boolean|number)=} unsigned\r\n * @param {number=} radix\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromString(str, unsigned, radix) {\r\n    if (str.length === 0)\r\n        throw Error('empty string');\r\n    if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\r\n        return ZERO;\r\n    if (typeof unsigned === 'number') {\r\n        // For goog.math.long compatibility\r\n        radix = unsigned,\r\n        unsigned = false;\r\n    } else {\r\n        unsigned = !! unsigned;\r\n    }\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n\r\n    var p;\r\n    if ((p = str.indexOf('-')) > 0)\r\n        throw Error('interior hyphen');\r\n    else if (p === 0) {\r\n        return fromString(str.substring(1), unsigned, radix).neg();\r\n    }\r\n\r\n    // Do several (8) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 8));\r\n\r\n    var result = ZERO;\r\n    for (var i = 0; i < str.length; i += 8) {\r\n        var size = Math.min(8, str.length - i),\r\n            value = parseInt(str.substring(i, i + size), radix);\r\n        if (size < 8) {\r\n            var power = fromNumber(pow_dbl(radix, size));\r\n            result = result.mul(power).add(fromNumber(value));\r\n        } else {\r\n            result = result.mul(radixToPower);\r\n            result = result.add(fromNumber(value));\r\n        }\r\n    }\r\n    result.unsigned = unsigned;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Returns a Long representation of the given string, written using the specified radix.\r\n * @function\r\n * @param {string} str The textual representation of the Long\r\n * @param {(boolean|number)=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromString = fromString;\r\n\r\n/**\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromValue(val, unsigned) {\r\n    if (typeof val === 'number')\r\n        return fromNumber(val, unsigned);\r\n    if (typeof val === 'string')\r\n        return fromString(val, unsigned);\r\n    // Throws for non-objects, converts non-instanceof Long:\r\n    return fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);\r\n}\r\n\r\n/**\r\n * Converts the specified value to a Long using the appropriate from* function for its type.\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val Value\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long}\r\n */\r\nLong.fromValue = fromValue;\r\n\r\n// NOTE: the compiler should inline these constant values below and then remove these variables, so there should be\r\n// no runtime penalty for these.\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_16_DBL = 1 << 16;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24_DBL = 1 << 24;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\n\r\n/**\r\n * @type {!Long}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ZERO = fromInt(0);\r\n\r\n/**\r\n * Signed zero.\r\n * @type {!Long}\r\n */\r\nLong.ZERO = ZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UZERO = fromInt(0, true);\r\n\r\n/**\r\n * Unsigned zero.\r\n * @type {!Long}\r\n */\r\nLong.UZERO = UZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ONE = fromInt(1);\r\n\r\n/**\r\n * Signed one.\r\n * @type {!Long}\r\n */\r\nLong.ONE = ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UONE = fromInt(1, true);\r\n\r\n/**\r\n * Unsigned one.\r\n * @type {!Long}\r\n */\r\nLong.UONE = UONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar NEG_ONE = fromInt(-1);\r\n\r\n/**\r\n * Signed negative one.\r\n * @type {!Long}\r\n */\r\nLong.NEG_ONE = NEG_ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_VALUE = fromBits(0xFFFFFFFF|0, 0x7FFFFFFF|0, false);\r\n\r\n/**\r\n * Maximum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_VALUE = MAX_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_UNSIGNED_VALUE = fromBits(0xFFFFFFFF|0, 0xFFFFFFFF|0, true);\r\n\r\n/**\r\n * Maximum unsigned value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MIN_VALUE = fromBits(0, 0x80000000|0, false);\r\n\r\n/**\r\n * Minimum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MIN_VALUE = MIN_VALUE;\r\n\r\n/**\r\n * @alias Long.prototype\r\n * @inner\r\n */\r\nvar LongPrototype = Long.prototype;\r\n\r\n/**\r\n * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n * @returns {number}\r\n */\r\nLongPrototype.toInt = function toInt() {\r\n    return this.unsigned ? this.low >>> 0 : this.low;\r\n};\r\n\r\n/**\r\n * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n * @returns {number}\r\n */\r\nLongPrototype.toNumber = function toNumber() {\r\n    if (this.unsigned)\r\n        return ((this.high >>> 0) * TWO_PWR_32_DBL) + (this.low >>> 0);\r\n    return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n};\r\n\r\n/**\r\n * Converts the Long to a string written in the specified radix.\r\n * @param {number=} radix Radix (2-36), defaults to 10\r\n * @returns {string}\r\n * @override\r\n * @throws {RangeError} If `radix` is out of range\r\n */\r\nLongPrototype.toString = function toString(radix) {\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n    if (this.isZero())\r\n        return '0';\r\n    if (this.isNegative()) { // Unsigned Longs are never negative\r\n        if (this.eq(MIN_VALUE)) {\r\n            // We need to change the Long value before it can be negated, so we remove\r\n            // the bottom-most digit in this base and then recurse to do the rest.\r\n            var radixLong = fromNumber(radix),\r\n                div = this.div(radixLong),\r\n                rem1 = div.mul(radixLong).sub(this);\r\n            return div.toString(radix) + rem1.toInt().toString(radix);\r\n        } else\r\n            return '-' + this.neg().toString(radix);\r\n    }\r\n\r\n    // Do several (6) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),\r\n        rem = this;\r\n    var result = '';\r\n    while (true) {\r\n        var remDiv = rem.div(radixToPower),\r\n            intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,\r\n            digits = intval.toString(radix);\r\n        rem = remDiv;\r\n        if (rem.isZero())\r\n            return digits + result;\r\n        else {\r\n            while (digits.length < 6)\r\n                digits = '0' + digits;\r\n            result = '' + digits + result;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as a signed integer.\r\n * @returns {number} Signed high bits\r\n */\r\nLongPrototype.getHighBits = function getHighBits() {\r\n    return this.high;\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned high bits\r\n */\r\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\r\n    return this.high >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as a signed integer.\r\n * @returns {number} Signed low bits\r\n */\r\nLongPrototype.getLowBits = function getLowBits() {\r\n    return this.low;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned low bits\r\n */\r\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\r\n    return this.low >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the number of bits needed to represent the absolute value of this Long.\r\n * @returns {number}\r\n */\r\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\r\n    if (this.isNegative()) // Unsigned Longs are never negative\r\n        return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\r\n    var val = this.high != 0 ? this.high : this.low;\r\n    for (var bit = 31; bit > 0; bit--)\r\n        if ((val & (1 << bit)) != 0)\r\n            break;\r\n    return this.high != 0 ? bit + 33 : bit + 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isZero = function isZero() {\r\n    return this.high === 0 && this.low === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero. This is an alias of {@link Long#isZero}.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eqz = LongPrototype.isZero;\r\n\r\n/**\r\n * Tests if this Long's value is negative.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isNegative = function isNegative() {\r\n    return !this.unsigned && this.high < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is positive.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isPositive = function isPositive() {\r\n    return this.unsigned || this.high >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is odd.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isOdd = function isOdd() {\r\n    return (this.low & 1) === 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is even.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isEven = function isEven() {\r\n    return (this.low & 1) === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.equals = function equals(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.unsigned !== other.unsigned && (this.high >>> 31) === 1 && (other.high >>> 31) === 1)\r\n        return false;\r\n    return this.high === other.high && this.low === other.low;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's. This is an alias of {@link Long#equals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eq = LongPrototype.equals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.notEquals = function notEquals(other) {\r\n    return !this.eq(/* validates */ other);\r\n};\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.neq = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ne = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThan = function lessThan(other) {\r\n    return this.comp(/* validates */ other) < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's. This is an alias of {@link Long#lessThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lt = LongPrototype.lessThan;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) <= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.le = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThan = function greaterThan(other) {\r\n    return this.comp(/* validates */ other) > 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's. This is an alias of {@link Long#greaterThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gt = LongPrototype.greaterThan;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Compares this Long's value with the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.compare = function compare(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.eq(other))\r\n        return 0;\r\n    var thisNeg = this.isNegative(),\r\n        otherNeg = other.isNegative();\r\n    if (thisNeg && !otherNeg)\r\n        return -1;\r\n    if (!thisNeg && otherNeg)\r\n        return 1;\r\n    // At this point the sign bits are the same\r\n    if (!this.unsigned)\r\n        return this.sub(other).isNegative() ? -1 : 1;\r\n    // Both are positive if at least one is unsigned\r\n    return (other.high >>> 0) > (this.high >>> 0) || (other.high === this.high && (other.low >>> 0) > (this.low >>> 0)) ? -1 : 1;\r\n};\r\n\r\n/**\r\n * Compares this Long's value with the specified's. This is an alias of {@link Long#compare}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.comp = LongPrototype.compare;\r\n\r\n/**\r\n * Negates this Long's value.\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.negate = function negate() {\r\n    if (!this.unsigned && this.eq(MIN_VALUE))\r\n        return MIN_VALUE;\r\n    return this.not().add(ONE);\r\n};\r\n\r\n/**\r\n * Negates this Long's value. This is an alias of {@link Long#negate}.\r\n * @function\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.neg = LongPrototype.negate;\r\n\r\n/**\r\n * Returns the sum of this and the specified Long.\r\n * @param {!Long|number|string} addend Addend\r\n * @returns {!Long} Sum\r\n */\r\nLongPrototype.add = function add(addend) {\r\n    if (!isLong(addend))\r\n        addend = fromValue(addend);\r\n\r\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = addend.high >>> 16;\r\n    var b32 = addend.high & 0xFFFF;\r\n    var b16 = addend.low >>> 16;\r\n    var b00 = addend.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 + b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 + b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 + b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 + b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long.\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.subtract = function subtract(subtrahend) {\r\n    if (!isLong(subtrahend))\r\n        subtrahend = fromValue(subtrahend);\r\n    return this.add(subtrahend.neg());\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long. This is an alias of {@link Long#subtract}.\r\n * @function\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.sub = LongPrototype.subtract;\r\n\r\n/**\r\n * Returns the product of this and the specified Long.\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.multiply = function multiply(multiplier) {\r\n    if (this.isZero())\r\n        return ZERO;\r\n    if (!isLong(multiplier))\r\n        multiplier = fromValue(multiplier);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = wasm.mul(this.low,\r\n                           this.high,\r\n                           multiplier.low,\r\n                           multiplier.high);\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (multiplier.isZero())\r\n        return ZERO;\r\n    if (this.eq(MIN_VALUE))\r\n        return multiplier.isOdd() ? MIN_VALUE : ZERO;\r\n    if (multiplier.eq(MIN_VALUE))\r\n        return this.isOdd() ? MIN_VALUE : ZERO;\r\n\r\n    if (this.isNegative()) {\r\n        if (multiplier.isNegative())\r\n            return this.neg().mul(multiplier.neg());\r\n        else\r\n            return this.neg().mul(multiplier).neg();\r\n    } else if (multiplier.isNegative())\r\n        return this.mul(multiplier.neg()).neg();\r\n\r\n    // If both longs are small, use float multiplication\r\n    if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\r\n        return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\r\n\r\n    // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n    // We can skip products that would overflow.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = multiplier.high >>> 16;\r\n    var b32 = multiplier.high & 0xFFFF;\r\n    var b16 = multiplier.low >>> 16;\r\n    var b00 = multiplier.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 * b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 * b00;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c16 += a00 * b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 * b00;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a16 * b16;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a00 * b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the product of this and the specified Long. This is an alias of {@link Long#multiply}.\r\n * @function\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.mul = LongPrototype.multiply;\r\n\r\n/**\r\n * Returns this Long divided by the specified. The result is signed if this Long is signed or\r\n *  unsigned if this Long is unsigned.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.divide = function divide(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n    if (divisor.isZero())\r\n        throw Error('division by zero');\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        // guard against signed division overflow: the largest\r\n        // negative number / -1 would be 1 larger than the largest\r\n        // positive number, due to two's complement.\r\n        if (!this.unsigned &&\r\n            this.high === -0x80000000 &&\r\n            divisor.low === -1 && divisor.high === -1) {\r\n            // be consistent with non-wasm code path\r\n            return this;\r\n        }\r\n        var low = (this.unsigned ? wasm.div_u : wasm.div_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (this.isZero())\r\n        return this.unsigned ? UZERO : ZERO;\r\n    var approx, rem, res;\r\n    if (!this.unsigned) {\r\n        // This section is only relevant for signed longs and is derived from the\r\n        // closure library as a whole.\r\n        if (this.eq(MIN_VALUE)) {\r\n            if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\r\n                return MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\r\n            else if (divisor.eq(MIN_VALUE))\r\n                return ONE;\r\n            else {\r\n                // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n                var halfThis = this.shr(1);\r\n                approx = halfThis.div(divisor).shl(1);\r\n                if (approx.eq(ZERO)) {\r\n                    return divisor.isNegative() ? ONE : NEG_ONE;\r\n                } else {\r\n                    rem = this.sub(divisor.mul(approx));\r\n                    res = approx.add(rem.div(divisor));\r\n                    return res;\r\n                }\r\n            }\r\n        } else if (divisor.eq(MIN_VALUE))\r\n            return this.unsigned ? UZERO : ZERO;\r\n        if (this.isNegative()) {\r\n            if (divisor.isNegative())\r\n                return this.neg().div(divisor.neg());\r\n            return this.neg().div(divisor).neg();\r\n        } else if (divisor.isNegative())\r\n            return this.div(divisor.neg()).neg();\r\n        res = ZERO;\r\n    } else {\r\n        // The algorithm below has not been made for unsigned longs. It's therefore\r\n        // required to take special care of the MSB prior to running it.\r\n        if (!divisor.unsigned)\r\n            divisor = divisor.toUnsigned();\r\n        if (divisor.gt(this))\r\n            return UZERO;\r\n        if (divisor.gt(this.shru(1))) // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n            return UONE;\r\n        res = UZERO;\r\n    }\r\n\r\n    // Repeat the following until the remainder is less than other:  find a\r\n    // floating-point that approximates remainder / other *from below*, add this\r\n    // into the result, and subtract it from the remainder.  It is critical that\r\n    // the approximate value is less than or equal to the real value so that the\r\n    // remainder never becomes negative.\r\n    rem = this;\r\n    while (rem.gte(divisor)) {\r\n        // Approximate the result of division. This may be a little greater or\r\n        // smaller than the actual value.\r\n        approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n        // We will tweak the approximate result by changing it in the 48-th digit or\r\n        // the smallest non-fractional digit, whichever is larger.\r\n        var log2 = Math.ceil(Math.log(approx) / Math.LN2),\r\n            delta = (log2 <= 48) ? 1 : pow_dbl(2, log2 - 48),\r\n\r\n        // Decrease the approximation until it is smaller than the remainder.  Note\r\n        // that if it is too large, the product overflows and is negative.\r\n            approxRes = fromNumber(approx),\r\n            approxRem = approxRes.mul(divisor);\r\n        while (approxRem.isNegative() || approxRem.gt(rem)) {\r\n            approx -= delta;\r\n            approxRes = fromNumber(approx, this.unsigned);\r\n            approxRem = approxRes.mul(divisor);\r\n        }\r\n\r\n        // We know the answer can't be zero... and actually, zero would cause\r\n        // infinite recursion since we would make no progress.\r\n        if (approxRes.isZero())\r\n            approxRes = ONE;\r\n\r\n        res = res.add(approxRes);\r\n        rem = rem.sub(approxRem);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns this Long divided by the specified. This is an alias of {@link Long#divide}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.div = LongPrototype.divide;\r\n\r\n/**\r\n * Returns this Long modulo the specified.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.modulo = function modulo(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    return this.sub(this.div(divisor).mul(divisor));\r\n};\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.mod = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.rem = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns the bitwise NOT of this Long.\r\n * @returns {!Long}\r\n */\r\nLongPrototype.not = function not() {\r\n    return fromBits(~this.low, ~this.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise AND of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.and = function and(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise OR of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.or = function or(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise XOR of this Long and the given one.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.xor = function xor(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n    else\r\n        return fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount. This is an alias of {@link Long#shiftLeft}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shl = LongPrototype.shiftLeft;\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRight = function shiftRight(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\r\n    else\r\n        return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount. This is an alias of {@link Long#shiftRight}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr = LongPrototype.shiftRight;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    numBits &= 63;\r\n    if (numBits === 0)\r\n        return this;\r\n    else {\r\n        var high = this.high;\r\n        if (numBits < 32) {\r\n            var low = this.low;\r\n            return fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\r\n        } else if (numBits === 32)\r\n            return fromBits(high, 0, this.unsigned);\r\n        else\r\n            return fromBits(high >>> (numBits - 32), 0, this.unsigned);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Converts this Long to signed.\r\n * @returns {!Long} Signed long\r\n */\r\nLongPrototype.toSigned = function toSigned() {\r\n    if (!this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, false);\r\n};\r\n\r\n/**\r\n * Converts this Long to unsigned.\r\n * @returns {!Long} Unsigned long\r\n */\r\nLongPrototype.toUnsigned = function toUnsigned() {\r\n    if (this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, true);\r\n};\r\n\r\n/**\r\n * Converts this Long to its byte representation.\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {!Array.<number>} Byte representation\r\n */\r\nLongPrototype.toBytes = function toBytes(le) {\r\n    return le ? this.toBytesLE() : this.toBytesBE();\r\n};\r\n\r\n/**\r\n * Converts this Long to its little endian byte representation.\r\n * @returns {!Array.<number>} Little endian byte representation\r\n */\r\nLongPrototype.toBytesLE = function toBytesLE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        lo        & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo >>> 16 & 0xff,\r\n        lo >>> 24       ,\r\n        hi        & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi >>> 16 & 0xff,\r\n        hi >>> 24\r\n    ];\r\n};\r\n\r\n/**\r\n * Converts this Long to its big endian byte representation.\r\n * @returns {!Array.<number>} Big endian byte representation\r\n */\r\nLongPrototype.toBytesBE = function toBytesBE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        hi >>> 24       ,\r\n        hi >>> 16 & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi        & 0xff,\r\n        lo >>> 24       ,\r\n        lo >>> 16 & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo        & 0xff\r\n    ];\r\n};\r\n\r\n/**\r\n * Creates a Long from its byte representation.\r\n * @param {!Array.<number>} bytes Byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\r\n    return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\r\n};\r\n\r\n/**\r\n * Creates a Long from its little endian byte representation.\r\n * @param {!Array.<number>} bytes Little endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[0]       |\r\n        bytes[1] <<  8 |\r\n        bytes[2] << 16 |\r\n        bytes[3] << 24,\r\n        bytes[4]       |\r\n        bytes[5] <<  8 |\r\n        bytes[6] << 16 |\r\n        bytes[7] << 24,\r\n        unsigned\r\n    );\r\n};\r\n\r\n/**\r\n * Creates a Long from its big endian byte representation.\r\n * @param {!Array.<number>} bytes Big endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[4] << 24 |\r\n        bytes[5] << 16 |\r\n        bytes[6] <<  8 |\r\n        bytes[7],\r\n        bytes[0] << 24 |\r\n        bytes[1] << 16 |\r\n        bytes[2] <<  8 |\r\n        bytes[3],\r\n        unsigned\r\n    );\r\n};\r\n","import Long, { fromString } from \"long\";\r\nimport { addMarker, attachContextMenu, deleteMarker, drawAllMarkers, Marker } from \"./marker\";\r\nimport { SlimeChunkHandler } from \"./slimeChunk\";\r\n\r\nexport interface Vector2D {\r\n    x: number;\r\n    z: number;\r\n}\r\n\r\nexport interface AABB {\r\n    x1: number;\r\n    z1: number;\r\n    x2: number;\r\n    z2: number;\r\n}\r\n\r\nconst getV2sfromAABB = (aabb: AABB): { p1: Vector2D, p2: Vector2D } => {\r\n    return {\r\n        p1: { x: aabb.x1, z: aabb.z1 },\r\n        p2: { x: aabb.x2, z: aabb.z2 }\r\n    };\r\n};\r\n\r\nconst getAABBfromV2s = (p1: Vector2D, p2: Vector2D): AABB => {\r\n    return {\r\n        x1: p1.x,\r\n        z1: p1.z,\r\n        x2: p2.x,\r\n        z2: p2.z\r\n    };\r\n};\r\n\r\nconst origin: Vector2D = { x: 0, z: 0 };\r\n\r\ninterface Config {\r\n    seed?: string;\r\n    renderControls?: boolean;\r\n    bottom?: boolean;\r\n    allowMarkers: boolean;\r\n    mapBackgroundColor: string;\r\n    uiBackgroundColor: string;\r\n    slimeChunkColor: string;\r\n    strokeColor: string;\r\n    textColor: string;\r\n    markerDefaultColor: string;\r\n}\r\n\r\ninterface Controls {\r\n    seedInput: HTMLInputElement;\r\n    xInput: HTMLInputElement;\r\n    zInput: HTMLInputElement;\r\n}\r\n\r\nexport class SlimeMap {\r\n    /** The maps seed */\r\n    private seed: Long;\r\n    /** canvas height */\r\n    private height = 0;\r\n    /** canvas width */\r\n    private width = 0;\r\n    /** x position on the map. (viewer/camera position) */\r\n    private xPos = 0;\r\n    /** y position on the map. (viewer/camera position) */\r\n    private zPos = 0;\r\n    /** the cursor Position (canvas coordinate system) */\r\n    public mousePos: Vector2D = { ...origin };\r\n    /** zoom factor. higher means larger area visible */\r\n    public zoom = 2.5;\r\n    private minzoom = 0.7;\r\n    private maxzoom = 5;\r\n    /** viewport: visible area on the map in coordinates (not px). slightly oversized to compensate for partly visible chunks. */\r\n    private vp!: AABB;\r\n    /** visible area on map in chunks. */\r\n    private chunkvp!: AABB;\r\n    /** the border on the left side between canvas and map edge. */\r\n    public borderleft = 70;\r\n    /** the border on the top side between canvas and map edge. */\r\n    public bordertop = 50;\r\n    /** the border on the bottom side between canvas and map edge. */\r\n    private borderbottom = 20;\r\n    /** the border on the left bottom between canvas and map edge. */\r\n    public borderright = 20;\r\n    public markers: Marker[] = [];\r\n    public canvas: HTMLCanvasElement;\r\n    public ctx: CanvasRenderingContext2D;\r\n    private SCH: SlimeChunkHandler;\r\n    public config: Config;\r\n    private controls: Controls = undefined as any;\r\n    private container: HTMLElement;\r\n    /** Reference to marker automatically placed by gotoCoordinates. */\r\n    private jumpMarker: Marker | undefined;\r\n    private lastTouchPoint: Vector2D = origin;\r\n\r\n    public constructor(id: string, config?: Partial<Config>) {\r\n        this.config = {\r\n            strokeColor: \"#000000\",\r\n            textColor: \"#000000\",\r\n            mapBackgroundColor: \"#e0e0e0\",\r\n            uiBackgroundColor: \"#CED4DE\",\r\n            slimeChunkColor: \"#44dd55\",\r\n            markerDefaultColor: \"#aa0000\",\r\n            allowMarkers: true,\r\n            ...config\r\n        };\r\n\r\n\r\n        this.canvas = this.createDOM(id);\r\n        this.container = this.canvas.parentElement as HTMLElement;\r\n\r\n        attachContextMenu(this);\r\n\r\n        this.canvas.setAttribute(\"style\", \"cursor: grab; cursor: -webkit-grab\");\r\n        const ctx = this.canvas.getContext(\"2d\");\r\n        this.ctx = ctx ? ctx : new CanvasRenderingContext2D();\r\n        this.addScrollHandler();\r\n\r\n        this.seed = !!this.config.seed ? fromString(this.config.seed) : new Long(Date.now());\r\n        this.SCH = new SlimeChunkHandler(this.seed);\r\n        this.updateSizes();\r\n        // this.drawStaticUI();\r\n        this.redraw();\r\n\r\n        this.canvas.onmousemove = (event: MouseEvent) => {\r\n            this.mousePos = { x: event.offsetX, z: event.offsetY };\r\n            if (event.buttons === 1) {\r\n                this.xPos -= event.movementX / this.zoom;\r\n                this.zPos -= event.movementY / this.zoom;\r\n                this.redraw();\r\n            } else {\r\n                this.drawFooter();\r\n            }\r\n        };\r\n\r\n        this.canvas.onmousedown = (_event: MouseEvent) => {\r\n            const vec = this.getMapCoord(this.mousePos);\r\n            if (vec) {\r\n                this.canvas.setAttribute(\"style\", \"cursor: grabbing; cursor: -webkit-grabbing\");\r\n            }\r\n        };\r\n\r\n        this.canvas.onmouseup = (_event: MouseEvent) => {\r\n            this.canvas.setAttribute(\"style\", \"cursor: grab; cursor: -webkit-grab\");\r\n        };\r\n\r\n        this.canvas.ontouchstart = (event: TouchEvent) => {\r\n            this.lastTouchPoint = {\r\n                x: event.touches[0].clientX,\r\n                z: event.touches[0].clientY\r\n            };\r\n        };\r\n\r\n        this.canvas.ontouchmove = (event: TouchEvent) => {\r\n            let movement: Vector2D = {\r\n                x: this.lastTouchPoint.x - event.touches[0].clientX,\r\n                z: this.lastTouchPoint.z - event.touches[0].clientY\r\n            };\r\n\r\n            this.lastTouchPoint = {\r\n                x: event.touches[0].clientX,\r\n                z: event.touches[0].clientY\r\n            };\r\n\r\n            if (!this.isOverMap(this.lastTouchPoint)) {\r\n                return;\r\n            }\r\n\r\n            movement = this.doMath(movement, x => x / this.zoom);\r\n            this.xPos += movement.x;\r\n            this.zPos += movement.z;\r\n            this.redraw();\r\n            event.preventDefault();\r\n        };\r\n\r\n        window.addEventListener(\"resize\", () => {\r\n            this.updateSizes();\r\n            this.redraw();\r\n        });\r\n\r\n    }\r\n\r\n    public setSeed(seed: string) {\r\n        this.seed = fromString(seed);\r\n        this.SCH = new SlimeChunkHandler(this.seed);\r\n        this.redraw();\r\n    }\r\n\r\n    public gotoCoordinate(x: number, z: number);\r\n    public gotoCoordinate(coordinate: Vector2D);\r\n    public gotoCoordinate(param1: number | Vector2D, y?: number) {\r\n        const coordinate = this.isVector2D(param1) ? param1 : { x: param1, z: y as number };\r\n        this.xPos = coordinate.x;\r\n        this.zPos = coordinate.z;\r\n        this.redraw();\r\n    }\r\n\r\n    private loadFont() {\r\n        const link = document.createElement('link');\r\n        link.rel = 'stylesheet';\r\n        link.type = 'text/css';\r\n        link.href = 'https://fonts.googleapis.com/css?family=Montserrat:300,400';\r\n        document.head.appendChild(link);\r\n\r\n        //rerender a few times for the first few seconds,\r\n        const i = setInterval(() => {\r\n            this.drawStaticUI();\r\n            this.drawUI();\r\n        }, 100);\r\n        setTimeout(() => clearInterval(i), 2000);\r\n    }\r\n\r\n    private createDOM(id: string): HTMLCanvasElement {\r\n        this.loadFont();\r\n\r\n        const parent = document.getElementById(id);\r\n        if (!parent) {\r\n            throw (new Error(\"Element not found.\"));\r\n        }\r\n        const canvas: HTMLCanvasElement = document.createElement(\"canvas\");\r\n\r\n        let container: HTMLElement;\r\n        if (parent.tagName === \"CANVAS\") {\r\n            container = document.createElement(\"div\");\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < parent.attributes.length; i++) {\r\n                const attr = parent.attributes[i];\r\n                if (attr.name === \"width\" || attr.name === \"height\") {\r\n                    container.style[attr.name] = attr.value;\r\n                }\r\n                container.setAttribute(attr.name, attr.value);\r\n            }\r\n            container.appendChild(canvas);\r\n\r\n            const pparent = parent.parentNode || document.body;\r\n            pparent.replaceChild(container, parent);\r\n        } else {\r\n            container = parent;\r\n            container.appendChild(canvas);\r\n        }\r\n\r\n        container.style.position = \"relative\";\r\n        canvas.id = parent.id ? parent.id + \"canvas\" : \"slimemap-canvas\";\r\n\r\n        if (this.config.renderControls) {\r\n            const height = this.renderControls(container, this.config.bottom);\r\n            this.borderbottom += this.config.bottom ? height : 0;\r\n            this.bordertop += this.config.bottom ? 0 : height;\r\n        }\r\n\r\n        return canvas as HTMLCanvasElement;\r\n    }\r\n\r\n    private renderControls(container: HTMLElement, bottom: boolean = false) {\r\n        const controlsdDiv = document.createElement(\"div\");\r\n        const height = \"28px\";\r\n        Object.assign<CSSStyleDeclaration, Partial<CSSStyleDeclaration>>(controlsdDiv.style, {\r\n            display: \"flex\",\r\n            width: \"100%\",\r\n            justifyContent: \"space-between\",\r\n            position: \"absolute\",\r\n            bottom: bottom ? \"0px\" : \"auto\",\r\n            top: bottom ? \"auto\" : height,\r\n            paddingRight: this.borderright + \"px\",\r\n            paddingLeft: this.borderleft + \"px\",\r\n            boxSizing: \"border-box\",\r\n            height,\r\n            lineHeight: height\r\n        });\r\n\r\n        const seedDiv = document.createElement(\"div\");\r\n        const seedInput: HTMLInputElement = document.createElement(\"input\");\r\n        seedInput.type = \"text\";\r\n        seedInput.placeholder = \"enter seed\";\r\n        const seedButton = document.createElement(\"button\");\r\n        seedButton.innerText = \"Find Slimes\";\r\n        seedButton.addEventListener(\"click\", () => {\r\n            this.setSeed(seedInput.value);\r\n            seedInput.value = \"\";\r\n        });\r\n        seedDiv.appendChild(seedInput);\r\n        seedDiv.appendChild(seedButton);\r\n\r\n        const navDiv = document.createElement(\"div\");\r\n        const xInput: HTMLInputElement = document.createElement(\"input\");\r\n        xInput.type = \"text\";\r\n        xInput.placeholder = \"X\";\r\n        xInput.style.width = \"100px\";\r\n        const zInput: HTMLInputElement = document.createElement(\"input\");\r\n        zInput.type = \"text\";\r\n        zInput.placeholder = \"Z\";\r\n        zInput.style.width = \"100px\";\r\n        const navButton = document.createElement(\"button\");\r\n        navButton.innerText = \"go to coordinates\";\r\n        navButton.addEventListener(\"click\", () => {\r\n            const coordinate: Vector2D = { x: Number(xInput.value), z: Number(zInput.value) };\r\n            if (this.jumpMarker) {\r\n                deleteMarker(this.jumpMarker, this);\r\n            }\r\n            this.jumpMarker = { location: coordinate, label: `( X: ${coordinate.x} / Z: ${coordinate.z} )` };\r\n            addMarker(this.jumpMarker, this);\r\n            this.gotoCoordinate(coordinate);\r\n            xInput.value = \"\";\r\n            zInput.value = \"\";\r\n        });\r\n        navDiv.appendChild(xInput);\r\n        navDiv.appendChild(zInput);\r\n        navDiv.appendChild(navButton);\r\n\r\n\r\n        controlsdDiv.appendChild(seedDiv);\r\n        controlsdDiv.appendChild(navDiv);\r\n        container.appendChild(controlsdDiv);\r\n        this.controls = {\r\n            seedInput,\r\n            xInput,\r\n            zInput\r\n        };\r\n\r\n        return controlsdDiv.offsetHeight;\r\n    }\r\n\r\n    private addScrollHandler() {\r\n        const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? \"DOMMouseScroll\" : \"mousewheel\"; //FF doesn't recognize mousewheel as of FF3.x\r\n        const evt = (e) => this.onscroll(e);\r\n\r\n        if ((this.canvas as any).attachEvent) {//if IE (and Opera depending on user setting)\r\n            (this.canvas as any).attachEvent(\"on\" + mousewheelevt, evt);\r\n        }\r\n        else if (this.canvas.addEventListener) {//WC3 browsers\r\n            this.canvas.addEventListener(mousewheelevt, evt, false);\r\n        }\r\n    }\r\n\r\n    private getScrollDirection(e: WheelEvent): null | 1 | -1 {\r\n        let delta: number | null = null;\r\n        if ((e as any).detail !== undefined && e.detail !== 0) {\r\n            delta = e.detail;\r\n        }\r\n        if ((e as any).deltaY !== undefined && e.deltaY !== 0) {\r\n            delta = -e.deltaY;\r\n        }\r\n        if ((e as any).wheelDelta !== undefined && (e as any).wheelDelta !== 0) {\r\n            delta = (e as any).wheelDelta;\r\n        }\r\n        return delta && delta > 0 ? 1 : -1;\r\n    }\r\n\r\n    private onscroll(e: WheelEvent) {\r\n        const pos = this.getMapCoord(this.mousePos);\r\n        if (pos) {\r\n            e.preventDefault();\r\n            let zoomfactor = 0.2;\r\n            if (this.zoom < 2) {\r\n                zoomfactor /= 2;\r\n            }\r\n            const direction = this.getScrollDirection(e);\r\n            if (!direction) {\r\n                return;\r\n            }\r\n            zoomfactor *= direction;\r\n\r\n            if ((this.zoom + zoomfactor) >= this.minzoom && (this.zoom + zoomfactor) <= this.maxzoom) {\r\n                // zoom should be based on cursor position, i.e. the map position under the cursor should not change\r\n                // during scroll. this means we can calc the offset of the positions before and after scrolling and apply\r\n                // it to the position.\r\n                this.zoom += zoomfactor;\r\n                this.updateSizes();\r\n                const newPos = this.getMapCoord(this.mousePos) as Vector2D;\r\n                const offset = {\r\n                    x: pos.x - newPos.x,\r\n                    z: pos.z - newPos.z\r\n                };\r\n                this.xPos += offset.x;\r\n                this.zPos += offset.z;\r\n\r\n                this.redraw();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * calculates the visible map area in chunk representation.\r\n     * Result is slightly oversized to account for partially visible chunks.\r\n     */\r\n    private calcChunkVP(): AABB {\r\n        const v2s = getV2sfromAABB(this.vp);\r\n        return getAABBfromV2s(\r\n            this.doMath(v2s.p1, c => Math.floor(c / 16)),\r\n            this.doMath(v2s.p2, c => Math.ceil(c / 16))\r\n        );\r\n    }\r\n\r\n    private updateSizes() {\r\n        const bounding = this.container.getBoundingClientRect();\r\n        this.canvas.width = bounding.width;\r\n        this.canvas.height = bounding.height;\r\n        this.width = this.canvas.width;\r\n        this.height = this.canvas.height;\r\n        this.vp = this.calcViewport();\r\n        this.chunkvp = this.calcChunkVP();\r\n    }\r\n\r\n    private drawFooter() {\r\n        const vec = this.getMapCoord(this.mousePos);\r\n        if (vec) {\r\n            this.clearfooter();\r\n            this.ctx.font = \"normal 15px 'Montserrat'\";\r\n            this.ctx.fillStyle = this.config.textColor;\r\n            this.ctx.fillText(\"X: \" + vec.x.toFixed(0) + \"\\t Z: \" + vec.z.toFixed(0), this.borderleft, this.height - this.borderbottom + 15);\r\n\r\n            const Chunk = this.doMath(vec, c => Math.floor(c / 16));\r\n            const Slimes = this.SCH.isSlimeChunk(Chunk) ? \"ja\" : \"nein\";\r\n            this.ctx.fillText(\"Slimes: \" + Slimes, this.borderleft + 200, this.height - this.borderbottom + 15);\r\n\r\n            const From = this.ChunkToCoord(Chunk);\r\n            const To = this.doMath(From, c => c + 15);\r\n\r\n            this.ctx.textAlign = \"end\";\r\n            this.ctx.fillText(\"Chunk: ( \" + Chunk.x + \" / \" + Chunk.z + \" )  im Bereich von: ( \" +\r\n                From.x + \" / \" + From.z + \")  bis: ( \" +\r\n                To.x + \" / \" + To.z + \" )\", this.width - this.borderright, this.height - this.borderbottom + 15);\r\n            this.ctx.textAlign = \"start\";\r\n        }\r\n    }\r\n\r\n    private clearfooter() {\r\n        this.ctx.fillStyle = this.config.uiBackgroundColor;\r\n        this.ctx.fillRect(this.borderleft - 1, this.height - this.borderbottom, this.width - this.borderleft, this.borderbottom);\r\n    }\r\n\r\n    public redraw() {\r\n        this.vp = this.calcViewport();\r\n\r\n        //fill map\r\n        this.ctx.fillStyle = this.config.mapBackgroundColor;\r\n        this.ctx.fillRect(this.borderleft, this.bordertop, this.width - this.borderleft - this.borderright, this.height - this.bordertop - this.borderbottom);\r\n\r\n        //UI\r\n        this.updateSlimeVP();\r\n        this.drawSlimeChunks();\r\n        this.drawGrid();\r\n        drawAllMarkers(this);\r\n\r\n        this.clearBorderRight();\r\n        this.clearfooter();\r\n        this.drawStaticUI();\r\n        this.drawUI();\r\n    }\r\n\r\n    private updateSlimeVP() {\r\n        if (JSON.stringify(this.chunkvp) !== JSON.stringify(this.calcChunkVP())) {\r\n            this.chunkvp = this.calcChunkVP();\r\n        }\r\n    }\r\n\r\n    private drawSlimeChunks() {\r\n        this.ctx.fillStyle = this.config.slimeChunkColor;\r\n\r\n        for (let x = this.chunkvp.x1; x < this.chunkvp.x2; x++) {\r\n            for (let z = this.chunkvp.z1; z < this.chunkvp.z2; z++) {\r\n                if (this.SCH.isSlimeChunk({ x, z })) {\r\n                    const vec = this.ChunkToCoord({ x, z });\r\n\r\n                    let vec2 = this.getAbsCoord(vec);\r\n                    if (vec2) {\r\n                        this.ctx.fillRect(vec2.x + 1, vec2.z + 1, 16 * this.zoom - 1, 16 * this.zoom - 1);\r\n                        continue;\r\n                    }\r\n                    //slime chunk may be partially on map (overlap in x direction)\r\n                    vec2 = this.getAbsCoord({ x: vec.x + 16, z: vec.z });\r\n                    if (vec2) {\r\n                        this.ctx.fillRect(vec2.x - 16 * this.zoom, vec2.z, 16 * this.zoom - 1, 16 * this.zoom - 1);\r\n                        continue;\r\n                    }\r\n                    //slime chunk may be partially on map (overlap in y direction)\r\n                    vec2 = this.getAbsCoord({ x: vec.x, z: vec.z + 16 });\r\n                    if (vec2) {\r\n                        this.ctx.fillRect(vec2.x, vec2.z - 16 * this.zoom, 16 * this.zoom - 1, 16 * this.zoom - 1);\r\n                        continue;\r\n                    }\r\n                    //slime chunk may be partially on map (overlap in both directions)\r\n                    vec2 = this.getAbsCoord({ x: vec.x + 16, z: vec.z + 16 });\r\n                    if (vec2) {\r\n                        this.ctx.fillRect(vec2.x - 16 * this.zoom, vec2.z - 16 * this.zoom, 16 * this.zoom - 1, 16 * this.zoom - 1);\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private drawUI() {\r\n        let factor = 16;\r\n        if (this.zoom < 2) { factor *= 2; }\r\n        if (this.zoom < 0.9) { factor *= 2; }\r\n        this.ctx.font = \"normal 12px 'Montserrat'\";\r\n        this.ctx.fillStyle = this.config.textColor;\r\n        //X\r\n        for (let i = Math.ceil(this.vp.x1 / factor); i <= Math.floor(this.vp.x2 / factor); i++) {\r\n            const mark = i * factor;\r\n            let pos: Vector2D = { x: mark, z: this.vp.z1 };\r\n            pos = this.getAbsCoord(pos, true);\r\n            this.ctx.fillText(mark + \"\", pos.x - (mark.toString().length * 3), this.bordertop - 5);\r\n        }\r\n        //Z\r\n        for (let i = Math.ceil(this.vp.z1 / factor); i <= Math.floor(this.vp.z2 / factor); i++) {\r\n            const mark = i * factor;\r\n            let pos: Vector2D = { x: this.vp.x1, z: mark };\r\n            pos = this.getAbsCoord(pos, true);\r\n            this.ctx.fillText(mark + \"\", this.borderleft - 30, pos.z + 4);\r\n        }\r\n    }\r\n\r\n    private drawStaticUI() {\r\n        //clear;\r\n        this.ctx.font = \"normal 12px 'Montserrat'\";\r\n        this.ctx.fillStyle = this.config.uiBackgroundColor;\r\n        this.ctx.fillRect(0, 0, this.width, this.bordertop);\r\n        this.ctx.fillRect(0, 0, this.borderleft, this.height);\r\n\r\n        //Border\r\n        this.ctx.lineWidth = 1;\r\n        this.ctx.beginPath();\r\n        this.ctx.fillStyle = this.config.strokeColor;\r\n        this.ctx.strokeStyle = this.config.strokeColor;\r\n        this.ctx.moveTo(this.width - this.borderright, this.bordertop - 1);\r\n        this.ctx.lineTo(this.borderleft - 1, this.bordertop - 1);\r\n        this.ctx.lineTo(this.borderleft - 1, this.height - this.borderbottom);\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n\r\n        this.ctx.strokeStyle = \"#333333\";\r\n        this.ctx.fillStyle = \"#333333\";\r\n        //North\r\n        this.ctx.lineWidth = 0.7;\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(15, 5);\r\n        this.ctx.lineTo(5, 30);\r\n        this.ctx.lineTo(15, 20);\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(15, 20);\r\n        this.ctx.lineTo(25, 30);\r\n        this.ctx.lineTo(15, 5);\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n        this.ctx.fillText(\"N\", 10, 40);\r\n        this.ctx.font = \"normal 15px 'Montserrat'\";\r\n        this.ctx.fillText(\"Seed: \" + this.seed.toString(), this.borderleft, 20);\r\n\r\n        //Axisnames\r\n        //X\r\n        this.ctx.font = \"normal 20px 'Montserrat'\";\r\n        const mapwidthcenter = this.borderleft + ((this.width - this.borderleft - this.borderright) / 2);\r\n        this.ctx.fillText(\"X\", mapwidthcenter - 10, 20);\r\n        this.ctx.lineWidth = 0.4;\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(mapwidthcenter + 5, 13);\r\n        this.ctx.lineTo(mapwidthcenter + 17, 13);\r\n        this.ctx.lineTo(mapwidthcenter + 14, 10);\r\n        this.ctx.stroke();\r\n        this.ctx.moveTo(mapwidthcenter + 17, 13);\r\n        this.ctx.lineTo(mapwidthcenter + 14, 16);\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n        //Z\r\n        const mapheightcenter = this.bordertop + ((this.height - this.bordertop - this.borderbottom) / 2);\r\n        this.ctx.fillText(\"Z\", 7.5, mapheightcenter - 5);\r\n        this.ctx.lineWidth = 0.4;\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(13, mapheightcenter);\r\n        this.ctx.lineTo(13, mapheightcenter + 12);\r\n        this.ctx.lineTo(10, mapheightcenter + 9);\r\n        this.ctx.stroke();\r\n        this.ctx.moveTo(13, mapheightcenter + 12);\r\n        this.ctx.lineTo(16, mapheightcenter + 9);\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n    }\r\n\r\n    private drawGrid() {\r\n        const factor = 16;\r\n        this.ctx.strokeStyle = this.config.strokeColor;\r\n        //X\r\n        for (let i = Math.ceil(this.vp.x1 / factor); i <= Math.floor(this.vp.x2 / factor); i++) {\r\n            this.ctx.lineWidth = (i === 0) ? 0.8 : 0.5;\r\n            const mark = i * factor;\r\n            let pos: Vector2D = { x: mark, z: this.vp.z1 };\r\n            pos = this.getAbsCoord(pos, true);\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(Math.round(pos.x) + 0.5, this.bordertop); //fixes blurry lines for now\r\n            this.ctx.lineTo(Math.round(pos.x) + 0.5, this.height - this.borderbottom); //fixes blurry lines for now\r\n            this.ctx.stroke();\r\n            this.ctx.closePath();\r\n        }\r\n        //Z\r\n        for (let i = Math.ceil(this.vp.z1 / factor); i <= Math.floor(this.vp.z2 / factor); i++) {\r\n            this.ctx.lineWidth = (i === 0) ? 0.8 : 0.5;\r\n            const mark = i * factor;\r\n            let pos: Vector2D = { x: this.vp.x1, z: mark };\r\n            pos = this.getAbsCoord(pos, true);\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(this.borderleft, Math.round(pos.z) + 0.5); //fixes blurry lines for now\r\n            this.ctx.lineTo(this.width - this.borderright, Math.round(pos.z) + 0.5);  //fixes blurry lines for now\r\n            this.ctx.stroke();\r\n            this.ctx.closePath();\r\n        }\r\n    }\r\n\r\n    private clearBorderRight() {\r\n        this.ctx.fillStyle = this.config.uiBackgroundColor;\r\n        this.ctx.fillRect(this.width - this.borderright, 0, this.borderright, this.height);\r\n    }\r\n\r\n    private isInVP(vec: Vector2D): boolean {\r\n        return (vec.x >= this.vp.x1 && vec.x <= this.vp.x2 &&\r\n            vec.z >= this.vp.z1 && vec.z <= this.vp.z2);\r\n    }\r\n\r\n    private isOverMap(vec: Vector2D): boolean {\r\n        return (\r\n            vec.x >= this.borderleft && vec.x <= (this.width - this.borderright) &&\r\n            vec.z >= this.bordertop && vec.z <= (this.height - this.borderbottom));\r\n    }\r\n\r\n    public getAbsCoord(vec: Vector2D): false | Vector2D;\r\n    public getAbsCoord(vec: Vector2D, ignoreBorder: true): Vector2D;\r\n    public getAbsCoord(vec: Vector2D, ignoreBorder: boolean = false): false | Vector2D {\r\n        if (this.isInVP(vec) || ignoreBorder) {\r\n            const vec2 = { ...origin };\r\n            vec2.x = ((Math.floor(vec.x) - this.vp.x1) * this.zoom) + this.borderleft;\r\n            vec2.z = ((Math.floor(vec.z) - this.vp.z1) * this.zoom) + this.bordertop;\r\n            return vec2;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public getMapCoord(vec: Vector2D): false | Vector2D {\r\n        if (this.isOverMap(vec)) {\r\n            const vec2: Vector2D = { ...origin };\r\n            vec2.x = Math.round((vec.x - this.borderleft) / this.zoom);\r\n            vec2.z = Math.round((vec.z - this.bordertop) / this.zoom);\r\n            vec2.x += this.vp.x1;\r\n            vec2.z += this.vp.z1;\r\n            return vec2;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private calcViewport(): AABB {\r\n        const v: Partial<AABB> = {};\r\n        let mapWidth = this.width - this.borderleft - this.borderright;\r\n        let mapHeight = this.height - this.bordertop - this.borderbottom;\r\n        mapWidth /= this.zoom;\r\n        mapHeight /= this.zoom;\r\n        v.x1 = Math.floor((this.xPos - (mapWidth / 2)));\r\n        v.z1 = Math.floor((this.zPos - (mapHeight / 2)));\r\n        v.x2 = Math.ceil((this.xPos + (mapWidth / 2)));\r\n        v.z2 = Math.ceil((this.zPos + (mapHeight / 2)));\r\n        return v as AABB;\r\n    }\r\n\r\n    /**\r\n     * takes a number, vector or area and applies the given (arithmetic) function to each value.\r\n     */\r\n    private doMath(number: number, f: (x: number) => number): number;\r\n    private doMath(vec: Vector2D, f: (x: number) => number): Vector2D;\r\n    private doMath(area: AABB, f: (x: number) => number): AABB;\r\n    private doMath(arg: number | Vector2D | AABB, f: (x: number) => number): number | Vector2D | AABB;\r\n    private doMath(arg: number | Vector2D | AABB, f: (x: number) => number): number | Vector2D | AABB {\r\n        if (this.isVector2D(arg)) {\r\n            return {\r\n                x: this.doMath(arg.x, f),\r\n                z: this.doMath(arg.z, f)\r\n            };\r\n        }\r\n        else if (this.isAABB(arg)) {\r\n            const v2s = getV2sfromAABB(arg);\r\n            return getAABBfromV2s(this.doMath(v2s.p1, f), this.doMath(v2s.p2, f));\r\n        }\r\n        return f(arg);\r\n    }\r\n\r\n    public ChunkToCoord(number: number): number;\r\n    public ChunkToCoord(vec: Vector2D): Vector2D;\r\n    public ChunkToCoord(area: AABB): AABB;\r\n    public ChunkToCoord(arg: number | Vector2D | AABB): number | Vector2D | AABB {\r\n        return this.doMath(arg, x => x * 16);\r\n    }\r\n\r\n    private isVector2D(vec: any): vec is Vector2D {\r\n        if (typeof vec !== \"object\") {\r\n            return false;\r\n        }\r\n        const keys = Object.keys(vec);\r\n        return keys.length === 2 && typeof vec.x === \"number\" && typeof vec.z === \"number\";\r\n    }\r\n\r\n    private isAABB(vec: any): vec is AABB {\r\n        if (typeof vec !== \"object\") {\r\n            return false;\r\n        }\r\n        const keys = Object.keys(vec);\r\n        return keys.length === 4 && typeof vec.x1 === \"number\" && typeof vec.z1 === \"number\" && typeof vec.x2 === \"number\" && typeof vec.z2 === \"number\";\r\n    }\r\n\r\n}\r\n\r\n(window as any).SlimeMap = SlimeMap;\r\n\r\n// Polyfill for Object.assign in IE: https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\r\n// tslint:disable-next-line: no-unbound-method\r\nif (typeof (Object.assign as any) !== 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target: any, _varArgs: any) { // .length of function is 2\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n\r\n            const to = Object(target);\r\n\r\n            for (let index = 1; index < arguments.length; index++) {\r\n                const nextSource = arguments[index];\r\n\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (const nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}\r\n","import { ctxmenu } from \"ctxmenu\";\r\nimport { SlimeMap, Vector2D } from \"./slimeMap\";\r\n\r\nexport interface Marker {\r\n    location: Vector2D;\r\n    label?: string;\r\n    color?: string;\r\n}\r\n\r\nexport function attachContextMenu(sm: SlimeMap) {\r\n    ctxmenu.attach(\"#\" + sm.canvas.id, [], (cxm) => {\r\n        const coord = sm.getMapCoord(sm.mousePos);\r\n        if (coord === false) {\r\n            return [];\r\n        }\r\n\r\n        const getLabelDesc = (marker: Marker) => marker.label ? `\"${marker.label}\"` : `at ${JSON.stringify(marker.location)}`;\r\n\r\n        const closestMarker = findClosestMarker(coord, sm, 40 / sm.zoom); // increase search area the further zoomed out\r\n        if (closestMarker) {\r\n            const label = getLabelDesc(closestMarker);\r\n            cxm = cxm.concat([\r\n                {\r\n                    text: `Marker ${label}:`\r\n                },\r\n                {\r\n                    text: `Edit marker ${label}`,\r\n                    action: () => {\r\n                        showEditMarkerDialog(closestMarker, sm, (updatedMarker) => {\r\n                            deleteMarker(closestMarker, sm);\r\n                            addMarker(updatedMarker, sm);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: `Delete marker ${label}`,\r\n                    action: () => deleteMarker(closestMarker, sm)\r\n                },\r\n                { isDivider: true }\r\n            ]);\r\n        }\r\n\r\n        if (sm.config.allowMarkers) {\r\n            cxm = cxm.concat([\r\n                {\r\n                    text: \"Add marker\",\r\n                    action: () => {\r\n                        showEditMarkerDialog({\r\n                            location: coord\r\n                        }, sm, (marker) => {\r\n                            addMarker(marker, sm);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: \"Delete all markers\",\r\n                    action: () => {\r\n                        deleteAllMarkers(sm);\r\n                    },\r\n                    disabled: sm.markers.length === 0\r\n                }\r\n            ]);\r\n        }\r\n        cxm.push({\r\n            text: \"Go to marker\",\r\n            subMenu: sm.markers.map((marker) => ({\r\n                text: getLabelDesc(marker),\r\n                action: () => sm.gotoCoordinate(marker.location)\r\n            })),\r\n            disabled: sm.markers.length === 0\r\n        }\r\n        );\r\n        return cxm;\r\n    });\r\n\r\n\r\n    const style = document.createElement(\"style\");\r\n    style.innerText = `\r\n        .ctxmenu {\r\n            background-color: ${sm.config.uiBackgroundColor};\r\n            box-shadow: 3px 3px 15px;\r\n        }\r\n\r\n        .ctxmenu li.disabled {\r\n            color: #999;\r\n        }\r\n\r\n        .dialog {\r\n            font-family: 'Montserrat';\r\n        }\r\n    `;\r\n    document.head.appendChild(style);\r\n}\r\n\r\nexport function addMarker(marker: Marker, sm: SlimeMap) {\r\n    sm.markers.push(marker);\r\n    sm.redraw();\r\n}\r\n\r\nexport function deleteAllMarkers(sm: SlimeMap) {\r\n    sm.markers = [];\r\n    sm.redraw();\r\n}\r\n\r\nexport function deleteMarker(index: number, sm: SlimeMap): boolean;\r\nexport function deleteMarker(marker: Marker, sm: SlimeMap): boolean;\r\nexport function deleteMarker(arg0: number | Marker, sm: SlimeMap): boolean {\r\n    if (typeof arg0 === \"number\") {\r\n        if (arg0 < sm.markers.length) {\r\n            sm.markers.splice(arg0, 1);\r\n            sm.redraw();\r\n            return true;\r\n        }\r\n    }\r\n    else if (sm.markers.includes(arg0)) {\r\n        sm.markers.splice(sm.markers.indexOf(arg0), 1);\r\n        sm.redraw();\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function findClosestMarker(searchPos: Vector2D, sm: SlimeMap, maxRadius: number = Infinity): Marker | undefined {\r\n    if (sm.markers.length === 0) {\r\n        return undefined;\r\n    }\r\n    let closestMarker: Marker | undefined;\r\n    let closestDistance: number = Infinity;\r\n    sm.markers.forEach(marker => {\r\n        //Pythagoras\r\n        const distance = Math.sqrt(\r\n            Math.pow(marker.location.x - searchPos.x, 2) +\r\n            Math.pow(marker.location.z - searchPos.z, 2)\r\n        );\r\n        if (distance < maxRadius && distance < closestDistance) {\r\n            closestDistance = distance;\r\n            closestMarker = marker;\r\n        }\r\n    });\r\n\r\n    return closestMarker;\r\n}\r\n\r\nexport function drawAllMarkers(sm: SlimeMap) {\r\n    for (const marker of sm.markers) {\r\n        sm.ctx.strokeStyle = sm.config.strokeColor;\r\n        sm.ctx.fillStyle = marker.color || sm.config.markerDefaultColor;\r\n        sm.ctx.lineWidth = 1;\r\n        const coord = sm.getAbsCoord(marker.location, true);\r\n\r\n        const { x, z } = coord;\r\n\r\n        const size = 32;\r\n\r\n        const height = size;\r\n        const width = 2 * height / 3;\r\n\r\n        sm.ctx.beginPath();\r\n        sm.ctx.moveTo(x, z);\r\n        sm.ctx.bezierCurveTo(x - width / 8, z - width / 16 * 9, x - width / 2, z - width / 16 * 9, x - width / 2, z - width);\r\n        sm.ctx.arcTo(x - width / 2, z - height, x, z - height, width / 2);\r\n        sm.ctx.arcTo(x + width / 2, z - height, x + width / 2, z - width, width / 2);\r\n        sm.ctx.bezierCurveTo(x + width / 2, z - width / 16 * 9, x + width / 8, z - width / 16 * 9, x, z);\r\n        sm.ctx.fill();\r\n        sm.ctx.stroke();\r\n\r\n        sm.ctx.fill();\r\n\r\n        sm.ctx.stroke();\r\n        sm.ctx.closePath();\r\n\r\n        if (marker.label) {\r\n            sm.ctx.font = \"normal 15px 'Montserrat'\";\r\n            sm.ctx.textAlign = \"center\";\r\n            const textWidth = sm.ctx.measureText(marker.label).width;\r\n            sm.ctx.fillStyle = \"rgba(206,212,222,0.7)\";\r\n            sm.ctx.fillRect(x - textWidth / 2 - 3, z - size - 30, textWidth + 6, 21);\r\n            sm.ctx.fillStyle = sm.config.textColor;\r\n            sm.ctx.fillText(marker.label, x, z - size - 15);\r\n            sm.ctx.textAlign = \"left\";\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param marker the default marker properties\r\n * @param onSubmit callback when the dialog is submitted\r\n */\r\nexport function showEditMarkerDialog(marker: Marker, sm: SlimeMap, onSubmit: (marker: Marker) => void) {\r\n    const parent = sm.canvas.parentElement;\r\n    if (!parent) {\r\n        throw new Error(\"Canvas has no parent\");\r\n    }\r\n\r\n    const popup = document.createElement(\"div\");\r\n    popup.style.display = \"grid\";\r\n    popup.style.gridTemplateColumns = \"auto auto\";\r\n    popup.style.padding = \"15px\";\r\n    popup.className = \"dialog\";\r\n\r\n    const labelInput = document.createElement(\"input\");\r\n    const labelLabel = document.createElement(\"label\");\r\n    labelInput.value = marker.label || \"New Marker\";\r\n    labelLabel.innerText = \"Marker Label:\";\r\n    popup.appendChild(labelLabel);\r\n    popup.appendChild(labelInput);\r\n\r\n    const colorInput = document.createElement(\"input\");\r\n    const colorLabel = document.createElement(\"label\");\r\n    colorInput.type = \"color\";\r\n    colorInput.value = marker.color || sm.config.markerDefaultColor;\r\n    colorLabel.innerText = \"Marker Color:\";\r\n    popup.appendChild(colorLabel);\r\n    popup.appendChild(colorInput);\r\n\r\n    const xposInput = document.createElement(\"input\");\r\n    const xPosLabel = document.createElement(\"label\");\r\n    xposInput.type = \"number\";\r\n    xposInput.value = marker.location.x + \"\";\r\n    xPosLabel.innerText = \"Marker X Position:\";\r\n    popup.appendChild(xPosLabel);\r\n    popup.appendChild(xposInput);\r\n\r\n    const zposInput = document.createElement(\"input\");\r\n    const zPosLabel = document.createElement(\"label\");\r\n    zposInput.type = \"number\";\r\n    zposInput.value = marker.location.z + \"\";\r\n    zPosLabel.innerText = \"Marker Z Position:\";\r\n    popup.appendChild(zPosLabel);\r\n    popup.appendChild(zposInput);\r\n\r\n    const cancelBtn = document.createElement(\"button\");\r\n    cancelBtn.innerText = \"Cancel\";\r\n    popup.appendChild(cancelBtn);\r\n\r\n    const submitBtn = document.createElement(\"button\");\r\n    submitBtn.innerText = \"Submit\";\r\n    popup.appendChild(submitBtn);\r\n\r\n    const bounding = getBounding(popup);\r\n\r\n    Object.assign<CSSStyleDeclaration, Partial<CSSStyleDeclaration>>(popup.style, {\r\n        position: \"relative\",\r\n        margin: \"auto\",\r\n        zIndex: \"999\",\r\n        background: sm.config.uiBackgroundColor,\r\n        top: ((-parent.offsetHeight - bounding.height) * 0.5) + \"px\",\r\n        width: \"300px\",\r\n        boxShadow: `${sm.config.strokeColor} 3px 3px 15px`,\r\n        left: `${sm.borderleft - sm.borderright}px`\r\n    });\r\n\r\n    parent.appendChild(popup);\r\n\r\n    submitBtn.onclick = () => {\r\n        parent.removeChild(popup);\r\n        marker = {\r\n            label: labelInput.value,\r\n            color: colorInput.value,\r\n            location: {\r\n                x: Number(xposInput.value),\r\n                z: Number(zposInput.value)\r\n            }\r\n        }\r\n        onSubmit(marker);\r\n    }\r\n\r\n    cancelBtn.onclick = () => {\r\n        parent.removeChild(popup);\r\n    }\r\n}\r\n\r\nexport function getBounding(elem: HTMLElement): ClientRect | DOMRect {\r\n    const container = elem.cloneNode(true) as HTMLElement;\r\n    container.style.visibility = \"hidden\";\r\n    document.body.appendChild(container);\r\n    const result = container.getBoundingClientRect();\r\n    document.body.removeChild(container);\r\n    return result;\r\n}\r\n","\"use strict\";\n/*! ctxMenu v1.0.2 | (c) Nikolaj Kappler | https://github.com/nkappler/ctxmenu/blob/master/LICENSE !*/\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar ContextMenu = function () {\n    function ContextMenu() {\n        var _this = this;\n\n        _classCallCheck(this, ContextMenu);\n\n        this.cache = {};\n        this.dir = \"r\";\n        window.addEventListener(\"click\", function () {\n            return _this.closeMenu();\n        });\n        window.addEventListener(\"resize\", function () {\n            return _this.closeMenu();\n        });\n        window.addEventListener(\"scroll\", function () {\n            return _this.closeMenu();\n        });\n        ContextMenu.addStylesToDom();\n    }\n\n    ContextMenu.getInstance = function getInstance() {\n        if (!ContextMenu.instance) {\n            ContextMenu.instance = new ContextMenu();\n        }\n        return ContextMenu.instance;\n    };\n\n    ContextMenu.prototype.attach = function attach(target, ctxMenu) {\n        var _this2 = this;\n\n        var beforeRender = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (m) {\n            return m;\n        };\n\n        var t = document.querySelector(target);\n        if (this.cache[target] !== undefined) {\n            console.error(\"target element \" + target + \" already has a context menu assigned. Use ContextMenu.update() intstead.\");\n            return;\n        }\n        if (!t) {\n            console.error(\"target element \" + target + \" not found\");\n            return;\n        }\n        var handler = function handler(e) {\n            e.stopImmediatePropagation();\n            _this2.closeMenu();\n            _this2.dir = \"r\";\n            var newMenu = beforeRender([].concat(ctxMenu), e);\n            _this2.menu = _this2.generateDOM(newMenu, e);\n            document.body.appendChild(_this2.menu);\n            e.preventDefault();\n        };\n        this.cache[target] = {\n            ctxmenu: ctxMenu,\n            handler: handler\n        };\n        t.addEventListener(\"contextmenu\", handler);\n    };\n\n    ContextMenu.prototype.update = function update(target, ctxMenu) {\n        var o = this.cache[target];\n        var t = document.querySelector(target);\n        t && t.removeEventListener(\"contextmenu\", o && o.handler);\n        delete this.cache[target];\n        this.attach(target, ctxMenu);\n    };\n\n    ContextMenu.prototype.delete = function _delete(target) {\n        var o = this.cache[target];\n        if (!o) {\n            console.error(\"no context menu for target element \" + target + \" found\");\n            return;\n        }\n        var t = document.querySelector(target);\n        if (!t) {\n            console.error(\"target element \" + target + \" does not exist (anymore)\");\n            return;\n        }\n        t.removeEventListener(\"contextmenu\", o.handler);\n        delete this.cache[target];\n    };\n\n    ContextMenu.prototype.closeMenu = function closeMenu() {\n        var menu = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.menu;\n\n        if (menu) {\n            if (menu === this.menu) {\n                delete this.menu;\n            }\n            var p = menu.parentElement;\n            p && p.removeChild(menu);\n        }\n    };\n\n    ContextMenu.prototype.debounce = function debounce(target, action) {\n        var timeout = void 0;\n        target.addEventListener(\"mouseenter\", function (e) {\n            timeout = setTimeout(function () {\n                return action(e);\n            }, 150);\n        });\n        target.addEventListener(\"mouseleave\", function () {\n            return clearTimeout(timeout);\n        });\n    };\n\n    ContextMenu.prototype.generateDOM = function generateDOM(ctxMenu, parentOrEvent) {\n        var _this3 = this;\n\n        var container = document.createElement(\"ul\");\n        if (ctxMenu.length === 0) {\n            container.style.display = \"none\";\n        }\n        ctxMenu.forEach(function (item) {\n            var li = document.createElement(\"li\");\n            _this3.debounce(li, function () {\n                var subMenu = li.parentElement && li.parentElement.querySelector(\"ul\");\n                if (subMenu && subMenu.parentElement !== li) {\n                    _this3.closeMenu(subMenu);\n                }\n            });\n            if (ContextMenu.itemIsDivider(item)) {\n                li.className = \"divider\";\n            } else {\n                li.innerHTML = \"<span>\" + item.text + \"</span>\";\n                li.title = item.tooltip || \"\";\n                if (ContextMenu.itemIsInteractive(item)) {\n                    if (!item.disabled) {\n                        li.className = \"interactive\";\n                        if (ContextMenu.itemIsAction(item)) {\n                            li.addEventListener(\"click\", item.action);\n                        } else if (ContextMenu.itemIsAnchor(item)) {\n                            li.innerHTML = \"<a href=\\\"\" + item.href + \"\\\" target=\\\"\" + (item.target || \"\") + \"\\\">\" + item.text + \"</a>\";\n                        } else {\n                            if (item.subMenu.length === 0) {\n                                li.className = \"disabled submenu\";\n                            } else {\n                                li.className = \"interactive submenu\";\n                                _this3.debounce(li, function (ev) {\n                                    var subMenu = li.querySelector(\"ul\");\n                                    if (!subMenu) {\n                                        _this3.openSubMenu(ev, item.subMenu, li);\n                                    }\n                                });\n                            }\n                        }\n                    } else {\n                        li.className = \"disabled\";\n                        if (ContextMenu.itemIsSubMenu(item)) {\n                            li.className = \"disabled submenu\";\n                        }\n                    }\n                } else {\n                    li.style.fontWeight = \"bold\";\n                    li.style.marginLeft = \"-5px\";\n                }\n            }\n            container.appendChild(li);\n        });\n        container.style.position = \"fixed\";\n        container.className = \"ctxmenu\";\n        var rect = ContextMenu.getBounding(container);\n        var pos = { x: 0, y: 0 };\n        if (parentOrEvent instanceof Element) {\n            var parentRect = parentOrEvent.getBoundingClientRect();\n            pos = {\n                x: this.dir === \"r\" ? parentRect.left + parentRect.width : parentRect.left - rect.width,\n                y: parentRect.top - 4\n            };\n            if (pos.x !== this.getPosition(rect, pos).x) {\n                this.dir = this.dir === \"r\" ? \"l\" : \"r\";\n                pos.x = this.dir === \"r\" ? parentRect.left + parentRect.width : parentRect.left - rect.width;\n            }\n        } else {\n            pos = this.getPosition(rect, { x: parentOrEvent.clientX, y: parentOrEvent.clientY });\n        }\n        container.style.left = pos.x + \"px\";\n        container.style.top = pos.y + \"px\";\n        container.addEventListener(\"contextmenu\", function (ev) {\n            ev.stopPropagation();\n            ev.preventDefault();\n        });\n        container.addEventListener(\"click\", function (ev) {\n            var item = ev.target && ev.target.parentElement;\n            if (item && item.className !== \"interactive\") {\n                ev.stopPropagation();\n            }\n        });\n        return container;\n    };\n\n    ContextMenu.prototype.openSubMenu = function openSubMenu(e, ctxMenu, listElement) {\n        var subMenu = listElement.parentElement && listElement.parentElement.querySelector(\"li > ul\");\n        if (subMenu && subMenu.parentElement !== listElement) {\n            this.closeMenu(subMenu);\n        }\n        listElement.appendChild(this.generateDOM(ctxMenu, listElement));\n    };\n\n    ContextMenu.getBounding = function getBounding(elem) {\n        var container = elem.cloneNode(true);\n        container.style.visibility = \"hidden\";\n        document.body.appendChild(container);\n        var result = container.getBoundingClientRect();\n        document.body.removeChild(container);\n        return result;\n    };\n\n    ContextMenu.prototype.getPosition = function getPosition(rect, pos) {\n        return {\n            x: this.dir === \"r\" ? pos.x + rect.width > window.innerWidth ? window.innerWidth - rect.width : pos.x : pos.x < 0 ? 0 : pos.x,\n            y: pos.y + rect.height > window.innerHeight ? window.innerHeight - rect.height : pos.y\n        };\n    };\n\n    ContextMenu.itemIsInteractive = function itemIsInteractive(item) {\n        return this.itemIsAction(item) || this.itemIsAnchor(item) || this.itemIsSubMenu(item);\n    };\n\n    ContextMenu.itemIsAction = function itemIsAction(item) {\n        return item.hasOwnProperty(\"action\");\n    };\n\n    ContextMenu.itemIsAnchor = function itemIsAnchor(item) {\n        return item.hasOwnProperty(\"href\");\n    };\n\n    ContextMenu.itemIsDivider = function itemIsDivider(item) {\n        return item.hasOwnProperty(\"isDivider\");\n    };\n\n    ContextMenu.itemIsSubMenu = function itemIsSubMenu(item) {\n        return item.hasOwnProperty(\"subMenu\");\n    };\n\n    ContextMenu.addStylesToDom = function addStylesToDom() {\n        var append = function append() {\n            var styles = document.createElement(\"style\");\n            styles.innerHTML = \".ctxmenu{border:1px solid #999;padding:2px 0;box-shadow:3px 3px 3px #aaa;background:#fff;margin:0;font-size:15px;font-family:Verdana,sans-serif;z-index:9999}.ctxmenu li{margin:1px 0;display:block;position:relative}.ctxmenu li span,.ctxmenu li a{display:block;padding:2px 20px;cursor:default}.ctxmenu li a{color:inherit;text-decoration:none}.ctxmenu li.disabled{color:#ccc}.ctxmenu li.divider{border-bottom:1px solid #aaa;margin:5px 0}.ctxmenu li.interactive:hover{background:rgba(0,0,0,0.1)}.ctxmenu li.submenu::after{content:'>';position:absolute;display:block;top:0;right:0.3em;font-family:monospace;line-height:22px}\";\n            document.head.insertBefore(styles, document.head.childNodes[0]);\n        };\n        if (document.readyState === \"interactive\") {\n            append();\n        } else {\n            document.addEventListener(\"readystatechange\", function () {\n                if (document.readyState === \"interactive\") {\n                    append();\n                }\n            });\n        }\n    };\n\n    return ContextMenu;\n}();\n\nexports.ctxmenu = ContextMenu.getInstance();\n","import Long from \"long\";\r\nimport { NSeededRandom } from \"./seededRandom\";\r\nimport { Vector2D } from \"./slimeMap\";\r\n\r\nconst base = new Long(4987142);\r\nconst addend1 = new Long(5947611);\r\nconst addend2 = new Long(4392871);\r\nconst addend3 = new Long(389711);\r\nconst mask = new Long(987234911);\r\n\r\nexport class SlimeChunkHandler {\r\n    private cache: { [key: string]: boolean | undefined } = {};\r\n\r\n    public constructor(private seed: Long) { }\r\n\r\n    public isSlimeChunk(chunk: Vector2D) {\r\n        const key = `[${chunk.x},${chunk.z}]`;\r\n        if (this.cache[key] === undefined) {\r\n            this.cache[key] = isSlimeChunk(chunk, this.seed);\r\n        }\r\n        return this.cache[key];\r\n    }\r\n\r\n    public updateSeed(seed: Long) {\r\n        this.seed = seed;\r\n        delete this.cache;\r\n        this.cache = {};\r\n    }\r\n}\r\n\r\nexport function isSlimeChunk(chunk: Vector2D, seed: Long) {\r\n    const { x, z } = chunk;\r\n    const tempseed = base.multiply(x).multiply(x)\r\n        .add(addend1.multiply(x))\r\n        .add(addend2.multiply(z).multiply(z))\r\n        .add(addend3.multiply(z))\r\n        .add(seed).xor(mask);\r\n\r\n    const rnd = new NSeededRandom(tempseed);\r\n    return (rnd.nextInt(10) === 0);\r\n}\r\n","import Long, { ONE, ZERO } from \"long\";\r\n\r\ninterface ISeededRandom {\r\n    nextInt: (b: number) => number;\r\n}\r\n\r\nconst nmultiplier = new Long(0xDEECE66D, 0x5);\r\nconst naddend = new Long(0xB);\r\nconst nmask = new Long(0xFFFFFFFF, 0xFFFF);\r\n\r\nexport class NSeededRandom implements ISeededRandom {\r\n    private seed: Long;\r\n\r\n    public constructor(initseed: Long) {\r\n        this.seed = this.initialScramble(initseed);\r\n    }\r\n\r\n    private initialScramble(seed: Long) {\r\n        return seed.xor(nmultiplier).and(nmask);\r\n    }\r\n\r\n    private next(bits: number) {\r\n        this.seed = this.seed.multiply(nmultiplier).add(naddend).and(nmask);\r\n        return this.seed.shiftRight(48 - bits);\r\n    }\r\n\r\n    public nextInt(b: number) {\r\n        const bound = new Long(Math.abs(b));\r\n        if (bound.and(bound.negate()).isZero()) { // i.e., bound is a power of 2\r\n            return (bound.multiply(this.next(31)).shiftRight(31)).toInt();\r\n        }\r\n        // tslint:disable-next-line:one-variable-per-declaration\r\n        let bits: Long, val: Long;\r\n        do {\r\n            bits = this.next(31);\r\n            val = bits.modulo(bound);\r\n        } while (bits.sub(val).add(bound.sub(ONE)).lessThan(ZERO));\r\n        return val.toInt();\r\n    }\r\n}\r\n"],"sourceRoot":""}