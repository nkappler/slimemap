!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){t.exports=n;var i=null;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function n(t,e,i){this.low=0|t,this.high=0|e,this.unsigned=!!i}function r(t){return!0===(t&&t.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},s={};function h(t,e){var i,n,r;return e?(r=0<=(t>>>=0)&&t<256)&&(n=s[t])?n:(i=l(t,(0|t)<0?-1:0,!0),r&&(s[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(n=o[t])?n:(i=l(t,t<0?-1:0,!1),r&&(o[t]=i),i)}function a(t,e){if(isNaN(t))return e?v:x;if(e){if(t<0)return v;if(t>=p)return C}else{if(t<=-g)return M;if(t+1>=g)return z}return t<0?a(-t,e).neg():l(t%f|0,t/f|0,e)}function l(t,e,i){return new n(t,e,i)}n.fromInt=h,n.fromNumber=a,n.fromBits=l;var u=Math.pow;function c(t,e,i){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return x;if("number"==typeof e?(i=e,e=!1):e=!!e,(i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return c(t.substring(1),e,i).neg();for(var r=a(u(i,8)),o=x,s=0;s<t.length;s+=8){var h=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+h),i);if(h<8){var d=a(u(i,h));o=o.mul(d).add(a(l))}else o=(o=o.mul(r)).add(a(l))}return o.unsigned=e,o}function d(t,e){return"number"==typeof t?a(t,e):"string"==typeof t?c(t,e):l(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}n.fromString=c,n.fromValue=d;var f=4294967296,p=f*f,g=p/2,m=h(1<<24),x=h(0);n.ZERO=x;var v=h(0,!0);n.UZERO=v;var b=h(1);n.ONE=b;var y=h(1,!0);n.UONE=y;var w=h(-1);n.NEG_ONE=w;var z=l(-1,2147483647,!1);n.MAX_VALUE=z;var C=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=C;var M=l(0,-2147483648,!1);n.MIN_VALUE=M;var k=n.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},k.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(M)){var e=a(t),i=this.div(e),n=i.mul(e).sub(this);return i.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=a(u(t,6),this.unsigned),o=this,s="";;){var h=o.div(r),l=(o.sub(h.mul(r)).toInt()>>>0).toString(t);if((o=h).isZero())return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(M)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1==(1&this.low)},k.isEven=function(){return 0==(1&this.low)},k.equals=function(t){return r(t)||(t=d(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},k.eq=k.equals,k.notEquals=function(t){return!this.eq(t)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(t){return this.comp(t)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(t){return this.comp(t)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(t){return this.comp(t)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(t){return this.comp(t)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(t){if(r(t)||(t=d(t)),this.eq(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(M)?M:this.not().add(b)},k.neg=k.negate,k.add=function(t){r(t)||(t=d(t));var e=this.high>>>16,i=65535&this.high,n=this.low>>>16,o=65535&this.low,s=t.high>>>16,h=65535&t.high,a=t.low>>>16,u=0,c=0,f=0,p=0;return f+=(p+=o+(65535&t.low))>>>16,c+=(f+=n+a)>>>16,u+=(c+=i+h)>>>16,u+=e+s,l((f&=65535)<<16|(p&=65535),(u&=65535)<<16|(c&=65535),this.unsigned)},k.subtract=function(t){return r(t)||(t=d(t)),this.add(t.neg())},k.sub=k.subtract,k.multiply=function(t){if(this.isZero())return x;if(r(t)||(t=d(t)),i)return l(i.mul(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned);if(t.isZero())return x;if(this.eq(M))return t.isOdd()?M:x;if(t.eq(M))return this.isOdd()?M:x;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(m)&&t.lt(m))return a(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,n=65535&this.high,o=this.low>>>16,s=65535&this.low,h=t.high>>>16,u=65535&t.high,c=t.low>>>16,f=65535&t.low,p=0,g=0,v=0,b=0;return v+=(b+=s*f)>>>16,g+=(v+=o*f)>>>16,v&=65535,g+=(v+=s*c)>>>16,p+=(g+=n*f)>>>16,g&=65535,p+=(g+=o*c)>>>16,g&=65535,p+=(g+=s*u)>>>16,p+=e*f+n*c+o*u+s*h,l((v&=65535)<<16|(b&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(t){if(r(t)||(t=d(t)),t.isZero())throw Error("division by zero");var e,n,o;if(i)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?l((this.unsigned?i.div_u:i.div_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:x;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return v;if(t.gt(this.shru(1)))return y;o=v}else{if(this.eq(M))return t.eq(b)||t.eq(w)?M:t.eq(M)?b:(e=this.shr(1).div(t).shl(1)).eq(x)?t.isNegative()?b:w:(n=this.sub(t.mul(e)),o=e.add(n.div(t)));if(t.eq(M))return this.unsigned?v:x;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=x}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(e)/Math.LN2),h=s<=48?1:u(2,s-48),c=a(e),f=c.mul(t);f.isNegative()||f.gt(n);)f=(c=a(e-=h,this.unsigned)).mul(t);c.isZero()&&(c=b),o=o.add(c),n=n.sub(f)}return o},k.div=k.divide,k.modulo=function(t){return r(t)||(t=d(t)),i?l((this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return l(~this.low,~this.high,this.unsigned)},k.and=function(t){return r(t)||(t=d(t)),l(this.low&t.low,this.high&t.high,this.unsigned)},k.or=function(t){return r(t)||(t=d(t)),l(this.low|t.low,this.high|t.high,this.unsigned)},k.xor=function(t){return r(t)||(t=d(t)),l(this.low^t.low,this.high^t.high,this.unsigned)},k.shiftLeft=function(t){return r(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?l(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):l(0,this.low<<t-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(t){return r(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?l(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):l(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(t){if(r(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?l(this.low>>>t|e<<32-t,e>>>t,this.unsigned):l(32===t?e:e>>>t-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},k.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},k.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},n.fromBytes=function(t,e,i){return i?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(0)),s=i(2),h=i(4),a=function(t){return{p1:{x:t.x1,z:t.z1},p2:{x:t.x2,z:t.z2}}},l=function(t,e){return{x1:t.x,z1:t.z,x2:e.x,z2:e.z}},u={x:0,z:0},c=function(){function t(t,e){var i=this;this.height=0,this.width=0,this.xPos=0,this.zPos=0,this.mousePos=n({},u),this.zoom=2.5,this.minzoom=.7,this.maxzoom=5,this.borderleft=70,this.bordertop=50,this.borderbottom=20,this.borderright=20,this.markers=[],this.controls=void 0,this.config=n({strokeColor:"#000000",textColor:"#000000",mapBackgroundColor:"#e0e0e0",uiBackgroundColor:"#CED4DE",slimeChunkColor:"#44dd55",markerDefaultColor:"#aa0000",allowMarkers:!0},e),this.canvas=this.createDOM(t),s.attachContextMenu(this),this.canvas.setAttribute("style","cursor: grab; cursor: -webkit-grab");var r=this.canvas.getContext("2d");this.ctx=r||new CanvasRenderingContext2D,this.addScrollHandler(),this.seed=this.config.seed?o.fromString(this.config.seed):new o.default(Date.now()),this.SCH=new h.SlimeChunkHandler(this.seed),this.updateSizes(),this.redraw(),this.canvas.onmousemove=function(t){i.mousePos={x:t.offsetX,z:t.offsetY},1===t.buttons?(i.xPos-=t.movementX/i.zoom,i.zPos-=t.movementY/i.zoom,i.redraw()):i.drawFooter()},this.canvas.onmousedown=function(t){i.getMapCoord(i.mousePos)&&i.canvas.setAttribute("style","cursor: grabbing; cursor: -webkit-grabbing")},this.canvas.onmouseup=function(t){i.canvas.setAttribute("style","cursor: grab; cursor: -webkit-grab")}}return t.prototype.setSeed=function(t){this.seed=o.fromString(t),this.SCH=new h.SlimeChunkHandler(this.seed),this.redraw()},t.prototype.gotoCoordinate=function(t,e){var i=this.isVector2D(t)?t:{x:t,z:e};this.xPos=i.x,this.zPos=i.z,this.redraw()},t.prototype.loadFont=function(){var t=this,e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href="https://fonts.googleapis.com/css?family=Montserrat:300,400",document.head.appendChild(e);var i=setInterval(function(){t.drawStaticUI(),t.drawUI()},100);setTimeout(function(){return clearInterval(i)},2e3)},t.prototype.createDOM=function(t){this.loadFont();var e=document.getElementById(t);if(!e)throw new Error("Element not found.");var i,n=document.createElement("canvas");if("CANVAS"===e.tagName){i=document.createElement("div");for(var r=0;r<e.attributes.length;r++){var o=e.attributes[r];"width"!==o.name&&"height"!==o.name||(i.style[o.name]=o.value),i.setAttribute(o.name,o.value)}i.appendChild(n),(e.parentNode||document.body).replaceChild(i,e)}else(i=e).appendChild(n);if(i.style.position="relative",n.width=i.offsetWidth,n.height=i.offsetHeight,n.id=e.id?e.id+"canvas":"slimemap-canvas",this.config.renderControls){var s=this.renderControls(i,this.config.bottom);this.borderbottom+=this.config.bottom?s:0,this.bordertop+=this.config.bottom?0:s}return n},t.prototype.renderControls=function(t,e){var i=this;void 0===e&&(e=!1);var n=document.createElement("div");Object.assign(n.style,{display:"flex",width:"100%",justifyContent:"space-between",position:"absolute",bottom:e?"0px":"auto",top:e?"auto":"28px",paddingRight:this.borderright+"px",paddingLeft:this.borderleft+"px",boxSizing:"border-box",height:"28px",lineHeight:"28px"});var r=document.createElement("div"),o=document.createElement("input");o.type="text",o.placeholder="enter seed";var h=document.createElement("button");h.innerText="Find Slimes",h.addEventListener("click",function(){i.setSeed(o.value),o.value=""}),r.appendChild(o),r.appendChild(h);var a=document.createElement("div"),l=document.createElement("input");l.type="text",l.placeholder="X",l.style.width="100px";var u=document.createElement("input");u.type="text",u.placeholder="Z",u.style.width="100px";var c=document.createElement("button");return c.innerText="go to coordinates",c.addEventListener("click",function(){var t={x:Number(l.value),z:Number(u.value)};i.jumpMarker&&s.deleteMarker(i.jumpMarker,i),i.jumpMarker={location:t,label:"( X: "+t.x+" / Z: "+t.z+" )"},s.addMarker(i.jumpMarker,i),i.gotoCoordinate(t),l.value="",u.value=""}),a.appendChild(l),a.appendChild(u),a.appendChild(c),n.appendChild(r),n.appendChild(a),t.appendChild(n),this.controls={seedInput:o,xInput:l,zInput:u},n.offsetHeight},t.prototype.addScrollHandler=function(){var t=this,e=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",i=function(e){return t.onscroll(e)};this.canvas.attachEvent?this.canvas.attachEvent("on"+e,i):this.canvas.addEventListener&&this.canvas.addEventListener(e,i,!1)},t.prototype.getScrollDirection=function(t){var e=null;return void 0!==t.detail&&0!==t.detail&&(e=t.detail),void 0!==t.deltaY&&0!==t.deltaY&&(e=-t.deltaY),void 0!==t.wheelDelta&&0!==t.wheelDelta&&(e=t.wheelDelta),e&&e>0?1:-1},t.prototype.onscroll=function(t){var e=this.getMapCoord(this.mousePos);if(e){t.preventDefault();var i=.2;this.zoom<2&&(i/=2);var n=this.getScrollDirection(t);if(!n)return;if(i*=n,this.zoom+i>=this.minzoom&&this.zoom+i<=this.maxzoom){this.zoom+=i,this.updateSizes();var r=this.getMapCoord(this.mousePos),o={x:e.x-r.x,z:e.z-r.z};this.xPos+=o.x,this.zPos+=o.z,this.redraw()}}},t.prototype.calcChunkVP=function(){var t=a(this.vp);return l(this.doMath(t.p1,function(t){return Math.floor(t/16)}),this.doMath(t.p2,function(t){return Math.ceil(t/16)}))},t.prototype.updateSizes=function(){this.width=this.canvas.width,this.height=this.canvas.height,this.vp=this.calcViewport(),this.chunkvp=this.calcChunkVP()},t.prototype.drawFooter=function(){var t=this.getMapCoord(this.mousePos);if(t){this.clearfooter(),this.ctx.font="normal 15px 'Montserrat'",this.ctx.fillStyle=this.config.textColor,this.ctx.fillText("X: "+t.x.toFixed(0)+"\t Z: "+t.z.toFixed(0),this.borderleft,this.height-this.borderbottom+15);var e=this.doMath(t,function(t){return Math.floor(t/16)}),i=this.SCH.isSlimeChunk(e)?"ja":"nein";this.ctx.fillText("Slimes: "+i,this.borderleft+200,this.height-this.borderbottom+15);var n=this.ChunkToCoord(e),r=this.doMath(n,function(t){return t+15});this.ctx.textAlign="end",this.ctx.fillText("Chunk: ( "+e.x+" / "+e.z+" )  im Bereich von: ( "+n.x+" / "+n.z+")  bis: ( "+r.x+" / "+r.z+" )",this.width-this.borderright,this.height-this.borderbottom+15),this.ctx.textAlign="start"}},t.prototype.clearfooter=function(){this.ctx.fillStyle=this.config.uiBackgroundColor,this.ctx.fillRect(this.borderleft-1,this.height-this.borderbottom,this.width-this.borderleft,this.borderbottom)},t.prototype.redraw=function(){this.vp=this.calcViewport(),this.ctx.fillStyle=this.config.mapBackgroundColor,this.ctx.fillRect(this.borderleft,this.bordertop,this.width-this.borderleft-this.borderright,this.height-this.bordertop-this.borderbottom),this.updateSlimeVP(),this.drawSlimeChunks(),this.drawGrid(),s.drawAllMarkers(this),this.clearBorderRight(),this.clearfooter(),this.drawStaticUI(),this.drawUI()},t.prototype.updateSlimeVP=function(){JSON.stringify(this.chunkvp)!==JSON.stringify(this.calcChunkVP())&&(this.chunkvp=this.calcChunkVP())},t.prototype.drawSlimeChunks=function(){this.ctx.fillStyle=this.config.slimeChunkColor;for(var t=this.chunkvp.x1;t<this.chunkvp.x2;t++)for(var e=this.chunkvp.z1;e<this.chunkvp.z2;e++)if(this.SCH.isSlimeChunk({x:t,z:e})){var i=this.ChunkToCoord({x:t,z:e}),n=this.getAbsCoord(i);if(n){this.ctx.fillRect(n.x+1,n.z+1,16*this.zoom-1,16*this.zoom-1);continue}if(n=this.getAbsCoord({x:i.x+16,z:i.z})){this.ctx.fillRect(n.x-16*this.zoom,n.z,16*this.zoom-1,16*this.zoom-1);continue}if(n=this.getAbsCoord({x:i.x,z:i.z+16})){this.ctx.fillRect(n.x,n.z-16*this.zoom,16*this.zoom-1,16*this.zoom-1);continue}if(n=this.getAbsCoord({x:i.x+16,z:i.z+16})){this.ctx.fillRect(n.x-16*this.zoom,n.z-16*this.zoom,16*this.zoom-1,16*this.zoom-1);continue}}},t.prototype.drawUI=function(){var t=16;this.zoom<2&&(t*=2),this.zoom<.9&&(t*=2),this.ctx.font="normal 12px 'Montserrat'",this.ctx.fillStyle=this.config.textColor;for(var e=Math.ceil(this.vp.x1/t);e<=Math.floor(this.vp.x2/t);e++){var i={x:n=e*t,z:this.vp.z1};i=this.getAbsCoord(i,!0),this.ctx.fillText(n+"",i.x-3*n.toString().length,this.bordertop-5)}for(e=Math.ceil(this.vp.z1/t);e<=Math.floor(this.vp.z2/t);e++){var n=e*t;i={x:this.vp.x1,z:n};i=this.getAbsCoord(i,!0),this.ctx.fillText(n+"",this.borderleft-30,i.z+4)}},t.prototype.drawStaticUI=function(){this.ctx.font="normal 12px 'Montserrat'",this.ctx.fillStyle=this.config.uiBackgroundColor,this.ctx.fillRect(0,0,this.width,this.bordertop),this.ctx.fillRect(0,0,this.borderleft,this.height),this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.fillStyle=this.config.strokeColor,this.ctx.strokeStyle=this.config.strokeColor,this.ctx.moveTo(this.width-this.borderright,this.bordertop-1),this.ctx.lineTo(this.borderleft-1,this.bordertop-1),this.ctx.lineTo(this.borderleft-1,this.height-this.borderbottom),this.ctx.stroke(),this.ctx.closePath(),this.ctx.strokeStyle="#333333",this.ctx.fillStyle="#333333",this.ctx.lineWidth=.7,this.ctx.beginPath(),this.ctx.moveTo(15,5),this.ctx.lineTo(5,30),this.ctx.lineTo(15,20),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(15,20),this.ctx.lineTo(25,30),this.ctx.lineTo(15,5),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath(),this.ctx.fillText("N",10,40),this.ctx.font="normal 15px 'Montserrat'",this.ctx.fillText("Seed: "+this.seed.toString(),this.borderleft,20),this.ctx.font="normal 20px 'Montserrat'";var t=this.borderleft+(this.width-this.borderleft-this.borderright)/2;this.ctx.fillText("X",t-10,20),this.ctx.lineWidth=.4,this.ctx.beginPath(),this.ctx.moveTo(t+5,13),this.ctx.lineTo(t+17,13),this.ctx.lineTo(t+14,10),this.ctx.stroke(),this.ctx.moveTo(t+17,13),this.ctx.lineTo(t+14,16),this.ctx.stroke(),this.ctx.closePath();var e=this.bordertop+(this.height-this.bordertop-this.borderbottom)/2;this.ctx.fillText("Z",7.5,e-5),this.ctx.lineWidth=.4,this.ctx.beginPath(),this.ctx.moveTo(13,e),this.ctx.lineTo(13,e+12),this.ctx.lineTo(10,e+9),this.ctx.stroke(),this.ctx.moveTo(13,e+12),this.ctx.lineTo(16,e+9),this.ctx.stroke(),this.ctx.closePath()},t.prototype.drawGrid=function(){this.ctx.strokeStyle=this.config.strokeColor;for(var t=Math.ceil(this.vp.x1/16);t<=Math.floor(this.vp.x2/16);t++){this.ctx.lineWidth=0===t?.8:.5;var e={x:i=16*t,z:this.vp.z1};e=this.getAbsCoord(e,!0),this.ctx.beginPath(),this.ctx.moveTo(e.x,this.bordertop),this.ctx.lineTo(e.x,this.height-this.borderbottom),this.ctx.stroke(),this.ctx.closePath()}for(t=Math.ceil(this.vp.z1/16);t<=Math.floor(this.vp.z2/16);t++){this.ctx.lineWidth=0===t?.8:.5;var i=16*t;e={x:this.vp.x1,z:i};e=this.getAbsCoord(e,!0),this.ctx.beginPath(),this.ctx.moveTo(this.borderleft,e.z),this.ctx.lineTo(this.width-this.borderright,e.z),this.ctx.stroke(),this.ctx.closePath()}},t.prototype.clearBorderRight=function(){this.ctx.fillStyle=this.config.uiBackgroundColor,this.ctx.fillRect(this.width-this.borderright,0,this.borderright,this.height)},t.prototype.isInVP=function(t){return t.x>=this.vp.x1&&t.x<=this.vp.x2&&t.z>=this.vp.z1&&t.z<=this.vp.z2},t.prototype.isOverMap=function(t){return t.x>=this.borderleft&&t.x<=this.width-this.borderright&&t.z>=this.bordertop&&t.z<=this.height-this.borderbottom},t.prototype.getAbsCoord=function(t,e){if(void 0===e&&(e=!1),this.isInVP(t)||e){var i=n({},u);return i.x=(Math.floor(t.x)-this.vp.x1)*this.zoom+this.borderleft,i.z=(Math.floor(t.z)-this.vp.z1)*this.zoom+this.bordertop,i}return!1},t.prototype.getMapCoord=function(t){if(this.isOverMap(t)){var e=n({},u);return e.x=Math.round((t.x-this.borderleft)/this.zoom),e.z=Math.round((t.z-this.bordertop)/this.zoom),e.x+=this.vp.x1,e.z+=this.vp.z1,e}return!1},t.prototype.calcViewport=function(){var t={},e=this.width-this.borderleft-this.borderright,i=this.height-this.bordertop-this.borderbottom;return e/=this.zoom,i/=this.zoom,t.x1=Math.floor(this.xPos-e/2),t.z1=Math.floor(this.zPos-i/2),t.x2=Math.ceil(this.xPos+e/2),t.z2=Math.ceil(this.zPos+i/2),t},t.prototype.doMath=function(t,e){if(this.isVector2D(t))return{x:this.doMath(t.x,e),z:this.doMath(t.z,e)};if(this.isAABB(t)){var i=a(t);return l(this.doMath(i.p1,e),this.doMath(i.p2,e))}return e(t)},t.prototype.ChunkToCoord=function(t){return this.doMath(t,function(t){return 16*t})},t.prototype.isVector2D=function(t){return"object"==typeof t&&(2===Object.keys(t).length&&"number"==typeof t.x&&"number"==typeof t.z)},t.prototype.isAABB=function(t){return"object"==typeof t&&(4===Object.keys(t).length&&"number"==typeof t.x1&&"number"==typeof t.z1&&"number"==typeof t.x2&&"number"==typeof t.z2)},t}();e.SlimeMap=c,window.SlimeMap=c,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},writable:!0,configurable:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3);function r(t,e){e.markers.push(t),e.redraw()}function o(t){t.markers=[],t.redraw()}function s(t,e){if("number"==typeof t){if(t<e.markers.length)return e.markers.splice(t,1),e.redraw(),!0}else if(e.markers.includes(t))return e.markers.splice(e.markers.indexOf(t),1),e.redraw(),!0;return!1}function h(t,e,i){if(void 0===i&&(i=1/0),0!==e.markers.length){var n,r=1/0;return e.markers.forEach(function(e){var o=Math.sqrt(Math.pow(e.location.x-t.x,2)+Math.pow(e.location.z-t.z,2));o<i&&o<r&&(r=o,n=e)}),n}}function a(t,e,i){var n=e.canvas.parentElement;if(!n)throw new Error("Canvas has no parent");var r=document.createElement("div");r.style.display="grid",r.style.gridTemplateColumns="auto auto",r.style.padding="15px",r.className="dialog";var o=document.createElement("input"),s=document.createElement("label");o.value=t.label||"New Marker",s.innerText="Marker Label:",r.appendChild(s),r.appendChild(o);var h=document.createElement("input"),a=document.createElement("label");h.type="color",h.value=t.color||e.config.markerDefaultColor,a.innerText="Marker Color:",r.appendChild(a),r.appendChild(h);var u=document.createElement("input"),c=document.createElement("label");u.type="number",u.value=t.location.x+"",c.innerText="Marker X Position:",r.appendChild(c),r.appendChild(u);var d=document.createElement("input"),f=document.createElement("label");d.type="number",d.value=t.location.z+"",f.innerText="Marker Z Position:",r.appendChild(f),r.appendChild(d);var p=document.createElement("button");p.innerText="Cancel",r.appendChild(p);var g=document.createElement("button");g.innerText="Submit",r.appendChild(g);var m=l(r);Object.assign(r.style,{position:"relative",margin:"auto",zIndex:"999",background:e.config.uiBackgroundColor,top:.5*(-n.offsetHeight-m.height)+"px",width:"300px",boxShadow:e.config.strokeColor+" 3px 3px 15px",left:e.borderleft-e.borderright+"px"}),n.appendChild(r),g.onclick=function(){n.removeChild(r),t={label:o.value,color:h.value,location:{x:Number(u.value),z:Number(d.value)}},i(t)},p.onclick=function(){n.removeChild(r)}}function l(t){var e=t.cloneNode(!0);e.style.visibility="hidden",document.body.appendChild(e);var i=e.getBoundingClientRect();return document.body.removeChild(e),i}e.attachContextMenu=function(t){n.ctxmenu.attach("#"+t.canvas.id,[],function(e){var i=t.getMapCoord(t.mousePos);if(!1===i)return[];var n=function(t){return t.label?'"'+t.label+'"':"at "+JSON.stringify(t.location)},l=h(i,t,40/t.zoom);if(l){var u=n(l);e=e.concat([{text:"Marker "+u+":"},{text:"Edit marker "+u,action:function(){a(l,t,function(e){s(l,t),r(e,t)})}},{text:"Delete marker "+u,action:function(){return s(l,t)}},{isDivider:!0}])}return t.config.allowMarkers&&(e=e.concat([{text:"Add marker",action:function(){a({location:i},t,function(e){r(e,t)})}},{text:"Delete all markers",action:function(){o(t)},disabled:0===t.markers.length}])),e.push({text:"Go to marker",subMenu:t.markers.map(function(e){return{text:n(e),action:function(){return t.gotoCoordinate(e.location)}}}),disabled:0===t.markers.length}),e});var e=document.createElement("style");e.innerText="\n        .ctxmenu {\n            background-color: "+t.config.uiBackgroundColor+";\n            box-shadow: 3px 3px 15px;\n        }\n\n        .ctxmenu li.disabled {\n            color: #999;\n        }\n\n        .dialog {\n            font-family: 'Montserrat';\n        }\n    ",document.head.appendChild(e)},e.addMarker=r,e.deleteAllMarkers=o,e.deleteMarker=s,e.findClosestMarker=h,e.drawAllMarkers=function(t){for(var e=0,i=t.markers;e<i.length;e++){var n=i[e];t.ctx.strokeStyle=t.config.strokeColor,t.ctx.fillStyle=n.color||t.config.markerDefaultColor,t.ctx.lineWidth=1;var r=t.getAbsCoord(n.location,!0),o=r.x,s=r.z;if(t.ctx.beginPath(),t.ctx.moveTo(o,s),t.ctx.bezierCurveTo(o-64/3/8,s-12,o-64/3/2,s-12,o-64/3/2,s-64/3),t.ctx.arcTo(o-64/3/2,s-32,o,s-32,64/3/2),t.ctx.arcTo(o+64/3/2,s-32,o+64/3/2,s-64/3,64/3/2),t.ctx.bezierCurveTo(o+64/3/2,s-12,o+64/3/8,s-12,o,s),t.ctx.fill(),t.ctx.stroke(),t.ctx.fill(),t.ctx.stroke(),t.ctx.closePath(),n.label){t.ctx.font="normal 15px 'Montserrat'",t.ctx.textAlign="center";var h=t.ctx.measureText(n.label).width;t.ctx.fillStyle="rgba(206,212,222,0.7)",t.ctx.fillRect(o-h/2-3,s-32-30,h+6,21),t.ctx.fillStyle=t.config.textColor,t.ctx.fillText(n.label,o,s-32-15),t.ctx.textAlign="left"}}},e.showEditMarkerDialog=a,e.getBounding=l},function(t,e,i){"use strict";
/*! ctxMenu v1.0.2 | (c) Nikolaj Kappler | https://github.com/nkappler/ctxmenu/blob/master/LICENSE !*/Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache={},this.dir="r",window.addEventListener("click",function(){return e.closeMenu()}),window.addEventListener("resize",function(){return e.closeMenu()}),window.addEventListener("scroll",function(){return e.closeMenu()}),t.addStylesToDom()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.attach=function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=document.querySelector(t);if(void 0===this.cache[t])if(r){var o=function(t){t.stopImmediatePropagation(),i.closeMenu(),i.dir="r";var r=n([].concat(e),t);i.menu=i.generateDOM(r,t),document.body.appendChild(i.menu),t.preventDefault()};this.cache[t]={ctxmenu:e,handler:o},r.addEventListener("contextmenu",o)}else console.error("target element "+t+" not found");else console.error("target element "+t+" already has a context menu assigned. Use ContextMenu.update() intstead.")},t.prototype.update=function(t,e){var i=this.cache[t],n=document.querySelector(t);n&&n.removeEventListener("contextmenu",i&&i.handler),delete this.cache[t],this.attach(t,e)},t.prototype.delete=function(t){var e=this.cache[t];if(e){var i=document.querySelector(t);i?(i.removeEventListener("contextmenu",e.handler),delete this.cache[t]):console.error("target element "+t+" does not exist (anymore)")}else console.error("no context menu for target element "+t+" found")},t.prototype.closeMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.menu;if(t){t===this.menu&&delete this.menu;var e=t.parentElement;e&&e.removeChild(t)}},t.prototype.debounce=function(t,e){var i=void 0;t.addEventListener("mouseenter",function(t){i=setTimeout(function(){return e(t)},150)}),t.addEventListener("mouseleave",function(){return clearTimeout(i)})},t.prototype.generateDOM=function(e,i){var n=this,r=document.createElement("ul");0===e.length&&(r.style.display="none"),e.forEach(function(e){var i=document.createElement("li");n.debounce(i,function(){var t=i.parentElement&&i.parentElement.querySelector("ul");t&&t.parentElement!==i&&n.closeMenu(t)}),t.itemIsDivider(e)?i.className="divider":(i.innerHTML="<span>"+e.text+"</span>",i.title=e.tooltip||"",t.itemIsInteractive(e)?e.disabled?(i.className="disabled",t.itemIsSubMenu(e)&&(i.className="disabled submenu")):(i.className="interactive",t.itemIsAction(e)?i.addEventListener("click",e.action):t.itemIsAnchor(e)?i.innerHTML='<a href="'+e.href+'" target="'+(e.target||"")+'">'+e.text+"</a>":0===e.subMenu.length?i.className="disabled submenu":(i.className="interactive submenu",n.debounce(i,function(t){i.querySelector("ul")||n.openSubMenu(t,e.subMenu,i)}))):(i.style.fontWeight="bold",i.style.marginLeft="-5px")),r.appendChild(i)}),r.style.position="fixed",r.className="ctxmenu";var o=t.getBounding(r),s={x:0,y:0};if(i instanceof Element){var h=i.getBoundingClientRect();(s={x:"r"===this.dir?h.left+h.width:h.left-o.width,y:h.top-4}).x!==this.getPosition(o,s).x&&(this.dir="r"===this.dir?"l":"r",s.x="r"===this.dir?h.left+h.width:h.left-o.width)}else s=this.getPosition(o,{x:i.clientX,y:i.clientY});return r.style.left=s.x+"px",r.style.top=s.y+"px",r.addEventListener("contextmenu",function(t){t.stopPropagation(),t.preventDefault()}),r.addEventListener("click",function(t){var e=t.target&&t.target.parentElement;e&&"interactive"!==e.className&&t.stopPropagation()}),r},t.prototype.openSubMenu=function(t,e,i){var n=i.parentElement&&i.parentElement.querySelector("li > ul");n&&n.parentElement!==i&&this.closeMenu(n),i.appendChild(this.generateDOM(e,i))},t.getBounding=function(t){var e=t.cloneNode(!0);e.style.visibility="hidden",document.body.appendChild(e);var i=e.getBoundingClientRect();return document.body.removeChild(e),i},t.prototype.getPosition=function(t,e){return{x:"r"===this.dir?e.x+t.width>window.innerWidth?window.innerWidth-t.width:e.x:e.x<0?0:e.x,y:e.y+t.height>window.innerHeight?window.innerHeight-t.height:e.y}},t.itemIsInteractive=function(t){return this.itemIsAction(t)||this.itemIsAnchor(t)||this.itemIsSubMenu(t)},t.itemIsAction=function(t){return t.hasOwnProperty("action")},t.itemIsAnchor=function(t){return t.hasOwnProperty("href")},t.itemIsDivider=function(t){return t.hasOwnProperty("isDivider")},t.itemIsSubMenu=function(t){return t.hasOwnProperty("subMenu")},t.addStylesToDom=function(){var t=function(){var t=document.createElement("style");t.innerHTML=".ctxmenu{border:1px solid #999;padding:2px 0;box-shadow:3px 3px 3px #aaa;background:#fff;margin:0;font-size:15px;font-family:Verdana,sans-serif;z-index:9999}.ctxmenu li{margin:1px 0;display:block;position:relative}.ctxmenu li span,.ctxmenu li a{display:block;padding:2px 20px;cursor:default}.ctxmenu li a{color:inherit;text-decoration:none}.ctxmenu li.disabled{color:#ccc}.ctxmenu li.divider{border-bottom:1px solid #aaa;margin:5px 0}.ctxmenu li.interactive:hover{background:rgba(0,0,0,0.1)}.ctxmenu li.submenu::after{content:'>';position:absolute;display:block;top:0;right:0.3em;font-family:monospace;line-height:22px}",document.head.insertBefore(t,document.head.childNodes[0])};"interactive"===document.readyState?t():document.addEventListener("readystatechange",function(){"interactive"===document.readyState&&t()})},t}();e.ctxmenu=n.getInstance()},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=i(5),s=new r.default(4987142),h=new r.default(5947611),a=new r.default(4392871),l=new r.default(389711),u=new r.default(987234911),c=function(){function t(t){this.seed=t,this.cache={}}return t.prototype.isSlimeChunk=function(t){var e="["+t.x+","+t.z+"]";return void 0===this.cache[e]&&(this.cache[e]=d(t,this.seed)),this.cache[e]},t.prototype.updateSeed=function(t){this.seed=t,delete this.cache,this.cache={}},t}();function d(t,e){var i=t.x,n=t.z,r=s.multiply(i).multiply(i).add(h.multiply(i)).add(a.multiply(n).multiply(n)).add(l.multiply(n)).add(e).xor(u);return 0===new o.NSeededRandom(r).nextInt(10)}e.SlimeChunkHandler=c,e.isSlimeChunk=d},function(t,e,i){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=new r.default(3740067437,5),s=new r.default(11),h=new r.default(4294967295,65535),a=function(){function t(t){this.seed=this.initialScramble(t)}return t.prototype.initialScramble=function(t){return t.xor(o).and(h)},t.prototype.next=function(t){return this.seed=this.seed.multiply(o).add(s).and(h),this.seed.shiftRight(48-t)},t.prototype.nextInt=function(t){var e,i,n=new r.default(Math.abs(t));if(n.and(n.negate()).isZero())return n.multiply(this.next(31)).shiftRight(31).toInt();do{i=(e=this.next(31)).modulo(n)}while(e.sub(i).add(n.sub(r.ONE)).lessThan(r.ZERO));return i.toInt()},t}();e.NSeededRandom=a}]);
//# sourceMappingURL=slime.js.map